{"version":3,"sources":["js/module/main/zx_Register.js"],"names":["init","removesessionStorage","urlflage","getUrlParam","flge","tradeStatus","sessionStorage","setItem","location","hash","undefined","console","log","isCardNo","cardPhone","pattern","test","clickEvent","reg","$alertInfo","$","$alertText","$alertcardInfo","$alertcardText","$isSelectinfo","$isSelecText","$alerCodetInfo","$alerCodetText","$alerCodeimg","$alerCodeimgText","bind","hide","mui","doc","input","ready","userPicker2","PopPicker","cancelBtn","document","getElementsByClassName","addH2","createElement","setAttribute","innerHTML","after","setData","IDKinds","showBorrowUsing","getElementById","value","text","dataset","i","PROCFLG01","idType","showBank","addEventListener","event","show","items","isType","click","phoneVal","val","sendPhone","telphonenum","messageType","Clients","postClientAjax","url","zx_signInformationCode","getPhonecode","blur","this","checkID","trim","isCardvode","isPhone","attr","Date","getTime","flag","ifNonullInfo","chequeno","imageCode","procflg01","secuityNo","zx_Gologin","getOkdata","alert","getCodeimg","data","success","message","Unique","IsAgent","IsChequeno","IsTel","IsZstatus","IsApprove","name","statusNo","statusName","phoneCode","validationCode","sendMessage","msincre","msinLess","timer","setInterval","clearInterval","searchStr","search","param","slice","length","moreParamArr","split","getParam","paramArr","identity","no","area","birthday","gender","id_no","id_area","id_birth","id_gender","GetVerifyBit","id","result","nNum","eval","charAt","id_length","aCity","Number","substr","bir_yyyy","substring","yyyy","bir_mm","mm","bir_dd","dd","sBirthday","d","getFullYear","getMonth","getDate","indexOf","idClass","count","curCount","elem","self","css","SetRemainTime","removeAttr","isCodephone","dataCard"],"mappings":"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","file":"js/module/main/zx_Register.js","sourcesContent":["/**\r\n * validationCode对象用于控制验证码时间\r\n * **/\r\nvar validationCode = {\r\n\ttimer: \"null\", //timer变量，控制时间  \r\n\tcount: 59, //间隔函数，1秒执行  \r\n\tcurCount: null, //当前剩余秒数  \r\n\t/****\r\n\t * ***定义验证码重发时间控制的方法**\r\n\t * ***参数elem 为按钮元素$对象\r\n\t * ***/\r\n\tsendMessage: function sendMessage(elem) {\r\n\t\tvar self = this;\r\n\t\tself.curCount = self.count;\r\n\t\t//设置button效果，开始计时  \r\n\t\telem.attr(\"disabled\", \"true\").css(\"background\", \"#c1c1c1\");;\r\n\t\telem.text(self.curCount + \"s\");\r\n\t\tself.timer = setInterval(function() {\r\n\t\t\tself.SetRemainTime(elem)\r\n\t\t}, 1000); //启动计时器，1秒执行一次\r\n\t},\r\n\t/****\r\n\t * ***timer处理函数，判断时间**\r\n\t * ***参数elem 为按钮元素$对象\r\n\t * ***/\r\n\tSetRemainTime: function(elem) {\r\n\t\tvar self = this;\r\n\t\tif (self.curCount == 1) {\r\n\t\t\tclearInterval(self.timer); //停止计时器  \r\n\t\t\telem.removeAttr(\"disabled\").css(\"background\", \"#fff\"); //启用按钮  \r\n\t\t\telem.text(\"重新发送\");\r\n\t\t} else {\r\n\t\t\tself.curCount--;\r\n\t\t\telem.text(self.curCount + \"s\");\r\n\t\t}\r\n\t}\r\n}\r\nvar msincre = 100; //判断验证码是否有效\t\r\nvar userPicker2; //证件类型选择器\r\nvar telphonenum = null; //存储发送验证码的手机号码\r\nvar phoneCode; //存储收到的验证码\r\nvar idType; //记录证件类型选中的值\r\nvar $alertInfo; //监听手机错误信息提示框\r\nvar $alertText; //错误弹窗的信息--监听手机\r\nvar $alertcardInfo; //监听证件号码\r\nvar $alertcardText; //错误弹窗的信息--监听证件号码\r\nvar $isSelectinfo; //监听证件类型\r\nvar $isSelecText; //监听证件类型错误提示信息\r\nvar $alerCodetInfo; //监听验证码\r\nvar $alerCodetText; //错误弹窗的信息--监听验证码\r\nvar $alerCodeimg; //图形验证码错误提示\r\nvar $alerCodeimgText; //图形验证码错误提示信息\r\nvar reg; //手机号码的正则表达式\r\nvar isPhone = false; //手机号码默认为FALSE\r\nvar isCodephone = false; //验证码默认为false\r\nvar isCardvode = false; //证件类型默认为false\r\nvar isType = false; //证件类型默认为false\r\nvar dataCard; //获取后台证件类型\r\nvar sendPhone; //手机号\r\nvar timer = null; //定时器序号\r\nvar flag;\r\nvar IDKinds=[\r\n\t\t{PROCFLG01 :\"1\",text:\"身份证\"},\r\n\t\t{PROCFLG01 :\"2\",text:\"中国护照\"},\r\n\t \t{PROCFLG01 :\"3\",text:\"军官证\"},\r\n\t \t{PROCFLG01 :\"4\",text:\"港澳回乡证\"},\r\n\t \t{PROCFLG01 :\"5\",text:\"其它\"},\r\n\t \t{PROCFLG01 :\"6\",text:\"出生证\"},\r\n\t \t{PROCFLG01 :\"7\",text:\"户口本\"},\r\n\t \t{PROCFLG01 :\"8\",text:\"士兵证\"},\r\n\t \t{PROCFLG01 :\"9\",text:\"台胞证\"},\r\n\t \t{PROCFLG01 :\"A\",text:\"外国人永久居留身份证\"},\r\n\t \r\n];\r\n/*页面最开始加载执行*/\r\n$(function() {\r\n\tmui('.mui-input-row input').input();\r\n\t//\t$(\"#zx_register .phoneInput\").focus();\r\n\t//\t$(\"#zx_register .card-phone\").focus();\r\n\t//\t$(\"#zx_register .valCode\").focus();\r\n\tinit(); //初始化\r\n\tclickEvent(); //点击事件初始化方法\r\n})\r\n\r\n/*初始化方法*/\r\nfunction init() {\r\n\tremovesessionStorage();\r\n\tvar urlflage = getUrlParam();\r\n\tvar flge = urlflage.tradeStatus;\r\n\t//var flge = \"TRADE_SUCCESS\";\r\n\tif(flge==\"TRADE_SUCCESS\"){\r\n\t\tsessionStorage.setItem(\"trade\",flge);\r\n\t\tlocation.hash=\"#zx_approval\";\r\n\t}else if(flge==null||flge==\"\"||flge==undefined){\r\n\t\tconsole.log(\"3\"+flge)\r\n\t\t//location.hash=\"#zx_register\";\r\n\t}\r\n}\r\n//验证身份证号\r\nfunction isCardNo(cardPhone) {\r\n\tvar pattern = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\r\n\treturn pattern.test(cardPhone);\r\n}\r\n/*页面点击事件方法*/\r\nfunction clickEvent() {\r\n\treg = /^(((13[0-9]{1})|159|153)+\\d{8})$/;//手机号码的正则表达式\r\n\t$alertInfo = $(\"#zx_register .alertInfo\"); //监听手机错误信息提示框\r\n\t$alertText = $(\"#zx_register .alertInfo span\"); //错误弹窗的信息--监听手机\r\n\t$alertcardInfo = $(\"#zx_register .alertcardInfo\"); //监听证件号码\r\n\t$alertcardText = $(\"#zx_register .alertcardInfo span\"); //错误弹窗的信息--监听证件号码\r\n\t$isSelectinfo = $(\"#zx_register .Isselect\"); //监听证件类型\r\n\t$isSelecText = $(\"#zx_register .Isselect span\"); //监听证件类型错误提示信息\r\n\t$alerCodetInfo = $(\"#zx_register .alerCodetInfo\"); //监听验证码\r\n\t$alerCodetText = $(\"#zx_register .alerCodetInfo span\"); //监听验证码错误提示信息\r\n\t$alerCodeimg = $(\"#zx_register .alerCodeimg\"); //图形验证码错误\r\n\t$alerCodeimgText = $(\"#zx_register .alerCodeimg span\"); //图形验证码错误\r\n\t$(\"#zx_register .card-phone\").bind(\"input\", function() {\r\n\t\t$alertcardInfo.hide();\r\n\t});\r\n\t$(\"#zx_register .phoneInput\").bind(\"input\", function() {\r\n\t\t$alertInfo.hide();\r\n\t});\r\n\t$(\"#zx_register .valCode\").bind(\"input\", function() {\r\n\t\t$alerCodetInfo.hide();\r\n\t});\r\n\t$(\"#Codeimg\").bind(\"input\", function() {\r\n\t\t$alerCodeimg.hide();\r\n\t});\r\n\t/*下拉选择器证件类型*/\r\n\t(function(mui, doc) {\r\n\t\tmui.init();\r\n\t\tmui('.mui-input-row input').input();\r\n\t\tmui.ready(function() {\r\n\t\t\t//普通示例\r\n\t\t\tuserPicker2 = new mui.PopPicker();\r\n\t\t\tvar cancelBtn = document.getElementsByClassName('mui-poppicker-btn-cancel')[0];\r\n\t\t\tvar addH2 = document.createElement(\"h2\");\r\n\t\t\taddH2.setAttribute(\"class\", \"addTitle\");\r\n\t\t\taddH2.innerHTML = \"请选择证件类型\";\r\n\t\t\t$(cancelBtn).after(addH2);\r\n\t\t\tuserPicker2.setData(IDKinds); //IDKinds证件类型\r\n\t\t\tvar showBorrowUsing = document.getElementById('id-card');\r\n\t\t\tshowBorrowUsing.value = IDKinds[0].text;\r\n\t\t\tshowBorrowUsing.dataset.i = IDKinds[0].PROCFLG01;\r\n\t\t\tidType = IDKinds[0].text;\r\n\t\t\tvar showBank = document.getElementById('inputMask');\r\n\t\t\tshowBank.addEventListener('tap', function(event) {\r\n\t\t\t\tuserPicker2.show(function(items) {\r\n\t\t\t\t\tshowBorrowUsing.value = items[0].text;\r\n\t\t\t\t\tshowBorrowUsing.dataset.i = items[0].PROCFLG01;\r\n\t\t\t\t\tidType = items[0].text;\r\n\t\t\t\t\t//返回 false 可以阻止选择框的关闭\r\n\t\t\t\t\t$isSelectinfo.hide();\r\n\t\t\t\t});\r\n\t\t\t}, false);\r\n\t\t\tisType = true;\r\n\t\t});\r\n\t})(mui, document);\r\n\t/***为发送验证码按钮添加点击事件***/\r\n\t$(\"#zx_register .countBtn\").click(function() {\r\n\t\tvar phoneVal = $(\"#zx_register .phoneInput\").val(); //手机号\r\n\t\tif (reg.test(phoneVal)) {\r\n\t\t\tsendPhone = phoneVal;\r\n\t\t\ttelphonenum = {\r\n\t\t\t\t\"telphonenum\": phoneVal,\r\n\t\t\t\t\"messageType\": \"Register\"\r\n\t\t\t};\r\n\t\t\tClients.postClientAjax(url.zx_signInformationCode, telphonenum, getPhonecode);\r\n\t\t\tconsole.log(telphonenum);\r\n\t\t} else if (phoneVal == \"\") {\r\n\t\t\t$alertInfo.show();\r\n\t\t\t$alertText.text(\"请输入手机号\");\r\n\t\t} else {\r\n\t\t\t$alertInfo.show();\r\n\t\t\t$alertText.text(\"请输入有效的手机号码\");\r\n\t\t}\r\n\t});\r\n\t/*证件号码码输入框事件失去焦点校验*/\r\n\t$(\"#zx_register .card-phone\").blur(\"input\", function() {\r\n\t\t\tif ($(this).val() != \"\") {\r\n\t\t\t\tif (idType == \"身份证\" || $(\"#id-card\").val() == \"身份证\") {\r\n\t\t\t\t\tif (!checkID($.trim($(this).val()))) {\r\n\t\t\t\t\t\t$alertcardInfo.show();\r\n\t\t\t\t\t\t$alertcardText.text(\"请输入正确的身份证号\");\r\n\t\t\t\t\t\tisCardvode = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$alertcardInfo.hide();\r\n\t\t\t\t\t\tisCardvode = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$alertcardInfo.hide();\r\n\t\t\t\t\tisCardvode = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$alertcardInfo.show();\r\n\t\t\t\t$alertcardText.text(\"请输入身份证号\");\r\n\t\t\t}\r\n\t\t})\r\n\t\t/*手机号码输入框事件梳理函数*/\r\n\t$(\"#zx_register .phoneInput\").blur(\"input\", function() {\r\n\t\t\tif (!reg.test($(\"#zx_register .phoneInput\").val())) {\r\n\t\t\t\t$alertInfo.show();\r\n\t\t\t\t$alertText.text(\"请输入有效的手机号码\");\r\n\t\t\t\tisPhone = false\r\n\t\t\t} else {\r\n\t\t\t\t$alertInfo.hide();\r\n\t\t\t\tisPhone = true;\r\n\t\t\t}\r\n\t\t})\r\n\t\t/*验证码输入框事件梳理函数*/\r\n//\t$(\"#zx_register .valCode\").blur(\"input\", function() {\r\n//\t\t\tif (phoneCode != $(\"#phoneCode\").val()) {\r\n//\t\t\t\t$alerCodetInfo.show();\r\n//\t\t\t\t$alerCodetText.text(\"请输入正确的手机验证码\");\r\n//\t\t\t\tisCodephone = false;\r\n//\t\t\t} else {\r\n//\t\t\t\t$alerCodetInfo.hide();\r\n//\t\t\t\tisCodephone = true;\r\n//\t\t\t}\r\n//\t\t})\r\n\t\t//点击更换图形验证码\r\n\t$('#randomImg').click(function() {\r\n\t\t$('#randomImg').attr('src', 'https://test2.citicpruagents.com.cn/autoemploy/login/getImagecode?t=' + new Date().getTime());\r\n\t});\r\n\t//判断图形验证码是否正确\r\n\t$(\"#Codeimg\").blur(\"input\", function() {});\r\n\t/*点击确认按钮事件*/\r\n\t$(\".btnonclick\").click(function() {\r\n//\t\t\tvar chequeno = $(\"#cardPhone\").val();\r\n//\t\t\tvar telphonenum = $(\".phoneInput\").val();\r\n//\t\t\tvar procflg01 = $(\"#id-card\").attr(\"data-i\");\r\n//\t\t\tvar d = {\r\n//\t\t\t\tchequeno: chequeno,\r\n//\t\t\t\ttelphonenum: telphonenum,\r\n//\t\t\t\tprocflg01: procflg01\r\n//\t\t\t};\r\n//\t\t\tClients.postClientAjax(url.zx_verifyChequeno, d, function(data) {\r\n//\t\t\t\tif (data.success == false) {\r\n//\t\t\t\t\tmui.alert(\"你输入的证件号码信息有误，请确认\");\r\n//\t\t\t\t\tflag = false;\r\n//\t\t\t\t} else {\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\tif (idType == \"身份证\" || $(\"#id-card\").val() == \"身份证\") {\r\n\t\t\t\t\t\tif (!checkID($.trim($(\"#cardPhone\").val()))) {\r\n\t\t\t\t\t\t\t$alertcardInfo.show();\r\n\t\t\t\t\t\t\t$alertcardText.text(\"请输入正确的身份证号\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$alertcardInfo.hide();\r\n\t\t\t\t\t\t\tifNonullInfo(); //提交时验证页面信息事件\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$alertcardInfo.hide(); //时验证页面信息事件\r\n\t\t\t\t\t\tifNonullInfo(); //提交时验证页面信息事件\r\n\t\t\t\t\t}\r\n//\t\t\t\t}\r\n//\t\t\t});\r\n\t\t})\r\n\t\t/*确认按钮点击之后弹框事件*/\r\n\t$(\".rightButton\").click(function() {\r\n\t\t\tsessionStorage.setItem(\"Phone_card\", $(\"#cardPhone\").val()); //证件号码\r\n\t\t\tsessionStorage.setItem(\"Type_code\", $(\"#id-card\").attr(\"data-i\")); //证件类型\r\n\t\t\tsessionStorage.setItem(\"Phonevode\", $(\"#zx_register .phoneInput\").val()); //手机号码\r\n\t\t\tsessionStorage.setItem(\"idType\", idType); //证件类型文字\r\n\t\t\tlocation.hash = \"#zx_inforRegister\"; //跳转到信息录入页面\r\n\t\t})\r\n\t\t/*弹框提示返回按钮事件*/\r\n\t$(\".leftButton\").click(function() {\r\n\t\t$(\"#indexMask\").hide();\r\n\t\t$(\"#indexNetPop\").hide();\r\n\t})\r\n}\r\n/*验证页面信息是否正确*/\r\nfunction ifNonullInfo() {\r\n\tif (isCardvode && isPhone && isType ) {\r\n//\t\tif (msincre == 0) {\r\n//\t\t\t$alerCodetText.text(\"请输入有效验证码\");\r\n//\t\t\t$alerCodetInfo.show();\r\n//\t\t\t//$nextBtn.attr(\"disabled\",true).css(\"background\",\"#c1c1c1\");\r\n//\t\t} else {\r\n//\t\t\tif ($(\"#zx_register .phoneInput\").val() != sendPhone) {\r\n//\t\t\t\t$alertText.text(\"当前手机号与发送验证的手机号不一致\");\r\n//\t\t\t\t$alertInfo.show();\r\n//\t\t\t\t//$nextBtn.attr(\"disabled\",true).css(\"background\",\"#c1c1c1\");\t\r\n//\t\t\t} else\r\n//\t\t\tif ($(\"#zx_register .valCode\").val() == phoneCode) {\r\n//\t\t\t\t$alertInfo.hide();\r\n//\t\t\t\tphoneModif = $(\"#zx_register .phoneInput\").val();\r\n//\t\t\t\tclearInterval(timer);\r\n//\t\t\t\ttimer = null;\r\n//\t\t\t} else {\r\n//\t\t\t\t$alerCodetText.text(\"请输入正确的验证码\");\r\n//\t\t\t\t$alerCodetInfo.show();\r\n//\t\t\t\t//$nextBtn.attr(\"disabled\",true).css(\"background\",\"#c1c1c1\");\t\r\n//\t\t\t}\r\n//\t\t}\r\n\t\tflag = true;\r\n\t\tvar imgcode = {\r\n\t\t\t\"imageCode\": $(\"#Codeimg\").val()\r\n\t\t};\r\n\t\t//Clients.postClientAjax(url.zx_Imgcode, imgcode, getCodeimg);\r\n\t\t\tvar chequeno = $(\"#cardPhone\").val();\r\n\t\t\tvar telphonenum = $(\".phoneInput\").val();\r\n\t\t\tvar procflg01 = $(\"#id-card\").attr(\"data-i\");\r\n\t\t\tvar secuityNo = {\r\n\t\t\t\tchequeno: chequeno,\r\n\t\t\t\ttelphonenum: telphonenum,\r\n\t\t\t\tprocflg01: procflg01\r\n\t\t};\r\n\t\tClients.postClientAjax(url.zx_Gologin, secuityNo, getOkdata);\r\n\t} else {\r\n\t\tmui.alert(\"信息有未填写或填写错误!\");\r\n\t\tflag = false;\r\n\t}\r\n\t//\tif (flag) {\r\n\t//\t\t$(\"#indexMask\").show(10);\r\n\t//\t\t$(\"#indexNetPop\").show();\r\n\t//\t} else {\r\n\t//\t\t$(\"#indexMask\").hide();\r\n\t//\t\t$(\"#indexNetPop\").hide();\r\n\t//\r\n\t//\t}\r\n\r\n}\r\n//图片验证码回调方法\r\nfunction getCodeimg(data) {\r\n\tif (data.success == true) {\r\n\t\r\n\t\tconsole.log(data);\r\n\t} else {\r\n\t\t$(\"#indexMask\").hide();\r\n\t\t$(\"#indexNetPop\").hide();\r\n\t\tmui.alert(data.message);\r\n\t}\r\n}\r\n//确定提交回调函数\r\nfunction getOkdata(data) {\r\n\tvar stutas;\r\n\tconsole.log(data)\r\n\tif (data.success == true) {\r\n\t\tif (data.data.Unique.flag == \"true\") {\r\n\t\t\t//Clients.postClientAjax(url.zx_Gologin,secuityNo,getOkdata);\r\n//\t\t\tsessionStorage.setItem(\"Phone_card\", $(\"#cardPhone\").val()); //证件号码\r\n//\t\t\tsessionStorage.setItem(\"Type_code\", $(\"#id-card\").attr(\"data-i\")); //证件类型\r\n//\t\t\tsessionStorage.setItem(\"Phonevode\", $(\"#zx_register .phoneInput\").val()); //手机号码\r\n//\t\t\tsessionStorage.setItem(\"idType\", idType); //证件类型文字\r\n//\t\t\tsessionStorage.setItem(\"stutas\", \"AB\"); //返回申请人\r\n//\t\t\tlocation.hash = \"#zx_approval\";\r\n\t\t\tif(data.data.IsAgent.flag==\"false\"){\r\n\t\t\t\tif(data.data.IsChequeno.flag==\"true\"){\r\n\t\t\t\t\tmui.alert(data.message);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(data.data.IsTel.flag==\"true\"){\r\n\t\t\t\t\t\tmui.alert(data.message);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$(\"#indexMask\").show(10);\r\n\t\t\t\t\t\t$(\"#indexNetPop\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else if(data.data.IsAgent.flag==\"true\"){\r\n\t\t\t\tif(data.data.IsZstatus.flag==\"true\"){\r\n\t\t\t\t\tif(data.data.IsApprove.flag==\"true\"){\r\n\t\t\t\t\t\tconsole.log(data.data.IsApprove.name);\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Phone_card\", $(\"#cardPhone\").val()); //证件号码\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Type_code\", $(\"#id-card\").attr(\"data-i\")); //证件类型\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Phonevode\", $(\"#zx_register .phoneInput\").val()); //手机号码\r\n\t\t\t\t\t\tsessionStorage.setItem(\"IDname\",data.data.IsApprove.name);//姓名\\\r\n\t\t\t\t\t\tsessionStorage.setItem(\"IDstatusNo\",data.data.IsApprove.statusNo);//审批环节代号\r\n\t\t\t\t\t\tsessionStorage.setItem(\"IDstatusname\",data.data.IsApprove.statusName);//审批环节代号\r\n\t\t\t\t\t\tsessionStorage.setItem(\"imgcode\",\"1\");\r\n\t\t\t\t\t\tlocation.hash=\"#zx_approval\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Phone_card\", $(\"#cardPhone\").val()); //证件号码\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Type_code\", $(\"#id-card\").attr(\"data-i\")); //证件类型\r\n\t\t\t\t\t\tsessionStorage.setItem(\"IDname\",data.data.IsApprove.name);//姓名\\\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Phonevode\", $(\"#zx_register .phoneInput\").val()); //手机号码\r\n\t\t\t\t\t\tsessionStorage.setItem(\"IDstatusNo\",data.data.IsApprove.statusNo);//审批环节代号\r\n\t\t\t\t\t\tsessionStorage.setItem(\"IDstatusname\",data.data.IsApprove.statusName);//审批环节代号\r\n\t\t\t\t\t\tlocation.hash=\"#zx_approvePay\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Phone_card\", $(\"#cardPhone\").val()); //证件号码\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Type_code\", $(\"#id-card\").attr(\"data-i\")); //证件类型\r\n\t\t\t\t\t\tsessionStorage.setItem(\"Phonevode\", $(\"#zx_register .phoneInput\").val()); //手机号码\r\n\t\t\t\t\t\tsessionStorage.setItem(\"idType\", idType); //证件类型文字\t\r\n\t\t\t\t\t\tlocation.hash=\"#zx_inforRegister\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmui.alert(data.message);\r\n\t\t}\r\n\t}else{\r\n\t\tmui.alert(data.message);\r\n\t}\r\n\t\t\r\n}\r\n/*获取手机号码验证码回调*/\r\nfunction getPhonecode(data) {\r\n\tif (data.success == true) {\r\n\t\tphoneCode = data.data;\r\n\t\tvalidationCode.sendMessage($(\"#zx_register .countBtn\")); //执行验证码重发时间函数\r\n\t\tmsincre = 299;\r\n\t\tmsinLess();\r\n\t} else {\r\n\t\tmui.alert(data.message);\r\n\t}\r\n\tconsole.log(data.data);\r\n}\r\n/****验证码有效计时****/\r\nfunction msinLess(){\r\n\ttimer=setInterval(function(){\r\n\t\tmsincre--;\r\n\t\tif(msincre==0){\r\n\t\t\tclearInterval(timer);\r\n\t\t\ttimer=null;\r\n\t\t}\r\n\t},1000)\r\n}\r\n/*获取url的传递的值*/\r\nfunction getUrlParam(){\r\n\t\tvar searchStr=location.search;\r\n\t\tif(searchStr==\"\"){\r\n\t\t    return {};\r\n\t\t}\r\n\t\tvar param=searchStr.slice(1,searchStr.length);\t\t\r\n\t\tvar moreParamArr=param.split(\"&\");\r\n\t\tvar getParam={};\r\n\t\tfor(var i=0;i<moreParamArr.length;i++){\r\n\t\t\t\tif(moreParamArr[i]!=\"\"){\r\n\t\t\t\t\t\tvar paramArr=moreParamArr[i].split(\"=\");\r\n\t\t\t\t\t\tgetParam[paramArr[0]]=paramArr[1];\t\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(getParam);\r\n\t\treturn getParam;\r\n}\r\n//身份证类\r\nfunction identity(no, area, birthday, gender) {\r\n\tthis.id_no = no; //身份证号\r\n\tthis.id_area = area; //身份证所在地区\r\n\tthis.id_birth = birthday; //生日 格式：YYYYMMDD\r\n\tthis.id_gender = gender; //性别 格式：M/F\r\n}\r\n//15位转18位中,计算校验位即最后一位\r\nfunction GetVerifyBit(id) {\r\n\tvar result;\r\n\tvar nNum = eval(id.charAt(0) * 7 + id.charAt(1) * 9 + id.charAt(2) * 10 + id.charAt(3) * 5 + id.charAt(4) * 8 + id.charAt(5) * 4 + id.charAt(6) * 2 + id.charAt(7) * 1 + id.charAt(8) * 6 + id.charAt(9) * 3 + id.charAt(10) * 7 + id.charAt(11) * 9 + id.charAt(12) * 10 + id.charAt(13) * 5 + id.charAt(14) * 8 + id.charAt(15) * 4 + id.charAt(16) * 2);\r\n\tnNum = nNum % 11;\r\n\tswitch (nNum) {\r\n\t\tcase 0:\r\n\t\t\tresult = \"1\";\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\t\tresult = \"0\";\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tresult = \"X\";\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tresult = \"9\";\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\t\tresult = \"8\";\r\n\t\t\tbreak;\r\n\t\tcase 5:\r\n\t\t\tresult = \"7\";\r\n\t\t\tbreak;\r\n\t\tcase 6:\r\n\t\t\tresult = \"6\";\r\n\t\t\tbreak;\r\n\t\tcase 7:\r\n\t\t\tresult = \"5\";\r\n\t\t\tbreak;\r\n\t\tcase 8:\r\n\t\t\tresult = \"4\";\r\n\t\t\tbreak;\r\n\t\tcase 9:\r\n\t\t\tresult = \"3\";\r\n\t\t\tbreak;\r\n\t\tcase 10:\r\n\t\t\tresult = \"2\";\r\n\t\t\tbreak;\r\n\t}\r\n\treturn result;\r\n}\r\nfunction checkID(id) {\r\n\tvar id_length = id.length;\r\n\tvar area = \"\";\r\n\tvar birthday = \"\";\r\n\tvar gender = \"\";\r\n\r\n\tif (id_length == 0) {\r\n\t\t//alert(\"请输入身份证号码!\");\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (aCity[Number(id.substr(0, 2))] == null) {\r\n\t\t//alert(\"Error:非法地区\");\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (id_length != 15 && id_length != 18) {\r\n\t\t//alert(\"身份证号长度应为15位或18位！\");\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (id_length == 15) {\r\n\r\n\t\tvar bir_yyyy = \"19\" + id.substring(6, 8);\r\n\t\tvar yyyy = Number(bir_yyyy);\r\n\r\n\t\tvar bir_mm = id.substring(8, 10);\r\n\t\tvar mm = Number(bir_mm);\r\n\r\n\t\tvar bir_dd = id.substring(10, 12);\r\n\t\tvar dd = Number(bir_dd);\r\n\r\n\t\tvar sBirthday = yyyy + \"/\" + mm + \"/\" + dd;\r\n\t\tvar d = new Date(sBirthday);\r\n\t\tif (sBirthday != (d.getFullYear() + \"/\" + (d.getMonth() + 1) + \"/\" + d.getDate())) {\r\n\t\t\t//alert(\"Error:非法生日\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tbirthday = bir_yyyy +\"/\"+ bir_mm +\"/\" +bir_dd;\r\n\r\n\t\tif (\"13579\".indexOf(id.substring(14, 15)) != -1) {\r\n\t\t\tgender = \"M\";\r\n\t\t} else {\r\n\t\t\tgender = \"F\";\r\n\t\t}\r\n\r\n\t} else if (id_length == 18) {\r\n\r\n\t\tif (id.indexOf(\"X\") > 0 && id.indexOf(\"X\") != 17 || id.indexOf(\"x\") > 0 && id.indexOf(\"x\") != 17) {\r\n\t\t\t//alert(\"身份证中\\\"X\\\"输入位置不正确！\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar bir_yyyy = id.substring(6, 10);\r\n\t\tvar yyyy = Number(bir_yyyy);\r\n\t\tif (yyyy > 2200 || yyyy < 1900) {\r\n\t\t\t//alert(\"输入身份证号,年度非法！\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar bir_mm = id.substring(10, 12);\r\n\t\tvar mm = Number(bir_mm);\r\n\r\n\t\tvar bir_dd = id.substring(12, 14);\r\n\t\tvar dd = Number(bir_dd);\r\n\r\n\t\tvar sBirthday = yyyy + \"/\" + mm + \"/\" + dd;\r\n\t\tvar d = new Date(sBirthday);\r\n\t\tif (sBirthday != (d.getFullYear() + \"/\" + (d.getMonth() + 1) + \"/\" + d.getDate())) {\r\n\t\t\t//alert(\"Error:非法生日\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//birthday=sBirthday.replace(/-/g,\"\");\r\n\t\tbirthday = bir_yyyy + bir_mm + bir_dd;\r\n\t\tif (id.charAt(17) == \"x\" || id.charAt(17) == \"X\") {\r\n\t\t\tif (\"x\" != GetVerifyBit(id) && \"X\" != GetVerifyBit(id)) {\r\n\t\t\t\t//alert(\"身份证校验错误，请检查最后一位！\");\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (id.charAt(17) != GetVerifyBit(id)) {\r\n\t\t\t\t//alert(\"身份证校验错误，请检查最后一位！\");\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (\"13579\".indexOf(id.substring(16, 17)) > -1) {\r\n\t\t\tgender = \"M\";\r\n\t\t} else {\r\n\t\t\tgender = \"F\";\r\n\t\t}\r\n\t}\r\n\tvar idClass = new identity(id, aCity[Number(id.substr(0, 2))], birthday, gender);\r\n\treturn idClass;\r\n}"],"sourceRoot":"/source/"}