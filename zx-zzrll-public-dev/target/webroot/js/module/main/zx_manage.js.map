{"version":3,"sources":["js/module/main/zx_manage.js"],"names":["init","Clients","postClientAjax","url","zx_mangeApprove","getManageAppStateData","eventBind","data","console","log","success","$","css","click","location","hash","zx_manageOpneContract","chequeno","refPhoneCard","getManageOpenContracttData","result","pdfUrl","message","sessionStorage","setItem","callback","URL","cordova","sino","openPDF","mui","alert","getItem","payAmount","input"],"mappings":"AAUA,QAASA,QAERC,QAAQC,eAAeC,IAAIC,gBAAgB,KAAKC,uBAChDC,YAGD,QAASD,uBAAsBE,GAC9BC,QAAQC,IAAIF,EAAKG,SACA,GAAdH,EAAKG,QACPC,EAAE,kBAAkBC,IAAI,UAAU,QAElCD,EAAE,kBAAkBC,IAAI,UAAU,SAGpC,QAASN,aAERK,EAAE,cAAcE,MAAM,WACrBC,SAASC,KAAK,sBAGfJ,EAAE,oBAAoBE,MAAM,WAQ3BZ,QAAQC,eAAeC,IAAIa,uBAAuBC,SAASC,cAAcC,8BAG1ER,EAAE,YAAYE,MAAM,WACnBC,SAASC,KAAK,sBAGfJ,EAAE,eAAeE,MAAM,WACtBC,SAASC,KAAK,sBAGfJ,EAAE,gBAAgBE,MAAM,WACvBC,SAASC,KAAK,sBAMhB,QAASI,4BAA2BC,GAGnC,GADAZ,QAAQC,IAAIW,GACTA,EAAOV,QAAQ,CAEjB,GAAIW,GAAOD,EAAOb,IACE,YAAjBa,EAAOE,SACTC,eAAeC,QAAQ,YAAW,GAQlCD,eAAeC,QAAQ,cAAcH,EAErC,IAAII,GAAW,SAASL,KACpBb,GACJmB,IAAIL,EAELM,SAAQC,KAAKC,QAAQJ,EAAUlB,OAE/BuB,KAAIC,MAAM,SA9EZ,GAAIb,cAAeK,eAAeS,QAAQ,cAEtCC,UAAYV,eAAeS,QAAQ,YAEvCrB,GAAE,WACDmB,IAAI,wBAAwBI,QAC5BlC","file":"js/module/main/zx_manage.js","sourcesContent":["\r\nvar refPhoneCard = sessionStorage.getItem('Phone_card');//登录时身份证号\r\n// var refPhoneCard = \"44058219970823599x\";\r\nvar payAmount = sessionStorage.getItem('payAmount');//履约保证金\r\n/*页面最开始加载执行*/\r\n$(function() {\r\n\tmui('.mui-input-row input').input();\r\n\tinit();//初始化\r\n})\r\n/*初始化方法*/\r\nfunction init(){\r\n\t//一进页面上岗审批小红点后台发数据\r\n\tClients.postClientAjax(url.zx_mangeApprove,null,getManageAppStateData);\r\n\teventBind();\r\n}\r\n//上岗审批小红点回调函数\r\nfunction getManageAppStateData(data){\r\n\tconsole.log(data.success);\r\n\tif(data.success==false){\r\n\t\t$(\".manage_point1\").css(\"display\",\"none\");\r\n\t}else{\r\n\t\t$(\".manage_point1\").css(\"display\",\"block\");\r\n\t}\r\n}\r\nfunction eventBind(){\r\n\t//上岗审批跳转\r\n\t$(\".entry-app\").click(function(){\r\n\t\tlocation.hash=\"#zx_approval_list\";\r\n\t});\r\n\t//代理合同跳转\r\n\t$(\".agency-contract\").click(function(){\r\n//\t\tvar pdfData={\r\n//\t\t\tchequeno: refPhoneCard,//身份证号\r\n//\t\t\tsubcomid:\"GD0001\",//分公司\r\n//\t\t\taddress:add,//乙方的地址(详细地址)\r\n//\t\t\tpostcode:post,//邮编\r\n//\t\t\tpaymoney:payAmount,//履约保证金(缴费之后取seesion)\r\n//\t\t};\r\n\t\tClients.postClientAjax(url.zx_manageOpneContract,{chequeno:refPhoneCard},getManageOpenContracttData);\r\n\t});\r\n\t//交费凭证跳转\r\n\t$(\".app-pay\").click(function(){\r\n\t\tlocation.hash=\"#zx_approval_list\";\r\n\t});\r\n\t//离职申请跳转\r\n\t$(\".resign-app\").click(function(){\r\n\t\tlocation.hash=\"#zx_approval_list\";\r\n\t});\r\n\t//离职审批跳转\r\n\t$(\".resign-sign\").click(function(){\r\n\t\tlocation.hash=\"#zx_approval_list\";\r\n\t});\r\n}\r\n\r\n\r\n//合同回调函数\r\nfunction getManageOpenContracttData(result){\r\n\t// 请求自己后台获取的数据，result.data为pdf文件的url地址\r\n\tconsole.log(result);\r\n\tif(result.success){\r\n\t// \t// alert(JSON.stringify(result.data));\r\n\t\tvar pdfUrl=result.data;\r\n\t\tif(result.message ==\"success\"){\r\n\t\t\tsessionStorage.setItem(\"download\",true);\r\n\t\t}\r\n\t// \t//window.open(\"前端服务器地址/pdf/web/viewer.html?file=后台服务器地址的pdf\")\r\n\t// \t // window.open(\"http://192.168.43.209:8000/openPdf/web/viewer.html?file=result.data\");\r\n\t// \t // window.open(\"https://test2.citicpruagents.com.cn/autoemploy/pdf/435335465346464546_1.jpg\",'_blank');\r\n\r\n\t\t \r\n\t// \t // window.open(\"https://test2.citicpruagents.com.cn/autoemploy/openPdf/web/viewer.html?file=\"+pdfUrl,'_blank');\r\n\t\t sessionStorage.setItem(\"contractUrl\",pdfUrl);\r\n\t\t // location.hash=\"#zx_agencyContract\"\r\n\t\t var callback = function(result) {};\r\n\t\t var data={\r\n\t\t\tURL:pdfUrl\r\n\t\t\t};\r\n\t\tcordova.sino.openPDF(callback, data);\r\n\t}else{\r\n\t\tmui.alert(\"文件不存在\");\r\n\t}\r\n}"],"sourceRoot":"/source/"}