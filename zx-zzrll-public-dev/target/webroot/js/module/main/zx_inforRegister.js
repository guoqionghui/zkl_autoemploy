function init1(){eventBind(),Clients.postClientAjax(url.zx_inforRegister_init,null,getInitData)}function init2(){Clients.postClientAjax(url.zx_inforRegister_company,null,getCompanyData)}function init3(){var a;if("1"!=sessionStorage.getItem("Type_code")&&sessionStorage.getItem("Type_code")&&$(".removeIcon").remove(),sessionStorage.getItem("Phone_card")&&($("#identity").val(sessionStorage.getItem("Phone_card")),a=sessionStorage.getItem("Phone_card")),sessionStorage.getItem("Phonevode")&&$("#telphonenum").val(sessionStorage.getItem("Phonevode")),sessionStorage.getItem("Type_code"))for(var e=0;e<IDKinds.length;e++)if(IDKinds[e].value==sessionStorage.getItem("Type_code")){$("#idType1").val(IDKinds[e].text),$("#idType1").attr("procflg01",sessionStorage.getItem("Type_code"));break}1==$("#idType1").attr("procflg01")&&$("#identity").val()&&checkID($("#identity").val())&&$("#identity").triggerHandler("blur"),Clients.postClientAjax(url.zx_inforRegister_state,{chequeno:a},getStateData)}function getInitData(a){var e;e=a.data.Bank,bankData=textChange(e,"bankdesc");var t;t=a.data.Counter,sourceData=textChange(t,"paramname");var r;r=a.data.Duty,jobData=textChange(r,"dutyFname");var n;n=a.data.Edu,educationData=textChange(n,"eduName");var i;i=a.data.Ethic,peopleData=textChange(i,"paramname");var o;o=a.data.Housetype,accountData=textChange(o,"paramname");var l;l=a.data.Nation,countryData=textChange(l,"nationabdc");var d;d=a.data.Politic,politicalData=textChange(d,"paramname"),selector(),init3()}function getCompanyData(a){var e;e=a.data,apt1=textChange(e,"subcomname");var t=new mui.PopPicker;apartPicker2=new mui.PopPicker,apartPicker3=new mui.PopPicker,t.setData(apt1);var r=$("#apartment1"),n=$("#apart1");r.on("tap",function(a){t.show(function(a){n.val(a[0].text),n.attr("subcomid",a[0].subcomid),$("#apart2").val(""),$("#apart2").attr("company",""),$("#apart2").attr("branch",""),$("#apart3").val(""),$("#apart3").attr("agencode",""),n.val()&&Clients.postClientAjax(url.zx_inforRegister_medium,{companyName:n.val()},getMediumData),head&&n.val()!=head&&($("#apart2").val(""),$("#apart2").attr("company",""),$("#apart2").attr("branch",""),$("#apart3").val(""),$("#apart3").attr("agencode",""))})})}function getMediumData(a){apt2=textChange(JSON.parse(a.data),"sorgName"),apartPicker2.setData(apt2);var e=document.getElementById("apartment2"),t=$("#apart2");e.addEventListener("tap",function(a){""!=$("#apart1").val()&&apartPicker2.show(function(a){if(t.val(a[0].text),$("#apart3").val(""),$("#apart3").attr("agencode",""),t.attr("company",a[0].company),t.attr("branch",a[0].branch),t.val()){var e=t.attr("company"),r=t.attr("branch");Clients.postClientAjax(url.zx_inforRegister_agent,{company:e,branch:r},getAgentData)}})},!1)}function getAgentData(a){apt3=textChange(JSON.parse(a.data),"agcyName"),apartPicker3.setData(apt3);var e=document.getElementById("apartment3"),t=$("#apart3");e.addEventListener("tap",function(a){""!=$("#apart1").val()&&""!=$("#apart2").val()&&apartPicker3.show(function(a){t.val(a[0].text),t.attr("agencode",a[0].agencode)})},!1)}function getStateData(a){if(sessionStorage.getItem("stutas")){var e=sessionStorage.getItem("stutas");"AI"==e?notInput():"AB"==e&&($("clntsurnm").attr("readonly","readonly"),$(".scanImage").unbind())}a.success?(state=1,getStateCallback(a)):state=0}function notInput(){$("#apartment1").unbind(),$("#apartment2").unbind(),$("#apartment3").unbind(),$("#job").unbind(),$("#country").unbind(),$("#marriedState1").unbind(),$("#education1").unbind(),$("#political1").unbind(),$("#accountType1").unbind(),$("#people1").unbind(),$("#place1").unbind(),$("#bank1").unbind(),$("#source1").unbind(),$(".exist").unbind(),$(".notExist").unbind(),$("#refererId").unbind(),$("#refererNumber").unbind(),$("#refererName").unbind(),$(".bNum").attr("onblur")?$(".bNum").removeAttr("onblur"):$(".bNum").unbind(),$(".bName").attr("onblur")?$(".bName").removeAttr("onblur"):$(".bName").unbind(),$("#zx_inforRegister .referers").children().eq(2).find("input").unbind(),$("#clntsurnm").unbind(),$("#phone").unbind(),$("#addDetail").unbind(),$("#bankcount").unbind(),$("#source").unbind(),$("#postcode").unbind(),$("#eMail").unbind(),$("#uBtdDate").unbind(),$("#place").unbind(),$("#zx_inforRegister .sexyGroup").unbind(),$("#refererId").attr("readonly","readonly"),$("#refererNumber").attr("readonly","readonly"),$("#refererName").attr("readonly","readonly"),$(".bNum").attr("readonly","readonly"),$(".bName").attr("readonly","readonly"),$("#clntsurnm").attr("readonly","readonly"),$("#phone").attr("readonly","readonly"),$("#addDetail").attr("readonly","readonly"),$("#bankcount").attr("readonly","readonly"),$("#source").attr("readonly","readonly"),$("#postcode").attr("readonly","readonly"),$("#eMail").attr("readonly","readonly"),$("#uBtdDate").attr("readonly","readonly"),$("#place").attr("readonly","readonly"),$(".scanImage").unbind(),$(".bankCard").unbind()}function getStateCallback(a){if(head=a.data.prodesc02,""!=a.data.intro_Chequeno&&""!=a.data.intro_No&&""!=a.data.intro_Name||""!=a.data.intro_No&&""!=a.data.intro_Name||""!=a.data.intro_Chequeno&&""!=a.data.intro_Name?$(".exist").triggerHandler("click"):$(".notExist").triggerHandler("click"),a.data.prodesc02&&($("#apart1").val(a.data.prodesc02),Clients.postClientAjax(url.zx_inforRegister_company,null,function(e){for(var t=e.data,r=0;r<t.length;r++)if(a.data.prodesc02==t[r].subcomname){$("#apart1").attr("subcomid",t[r].subcomid);break}})),a.data.company&&a.data.branch&&Clients.postClientAjax(url.zx_inforRegister_medium,{companyName:a.data.prodesc02},function(e){for(var t=JSON.parse(e.data),r=0;r<t.length;r++)if(a.data.company==t[r].company&&a.data.branch==t[r].branch){$("#apart2").val(t[r].sorgName),$("#apart2").attr("company",t[r].company),$("#apart2").attr("branch",t[r].company);break}}),a.data.agencode&&Clients.postClientAjax(url.zx_inforRegister_agent,{company:a.data.company,branch:a.data.branch},function(e){for(var t=JSON.parse(e.data),r=0;r<t.length;r++)if(a.data.agencode==t[r].agencode){$("#apart3").val(t[r].agcyName),$("#apart3").attr("agencode",t[r].agencode);break}}),a.data.telphonenum&&$("#telphonenum").val(a.data.telphonenum),a.data.procflg01){$("#idType1").attr("procflg01",a.data.procflg01);for(var e=0;e<IDKinds.length;e++)if(IDKinds[e].value==a.data.procflg01){$("#idType1").val(IDKinds[e].text);break}}if(a.data.chequeno&&$("#identity").val(a.data.chequeno),a.data.intro_Chequeno&&$("#refererId").val(a.data.intro_Chequeno),a.data.intro_No&&$("#refererNumber").val(a.data.intro_No),a.data.intro_Name&&$("#refererName").val(a.data.intro_Name),a.data.reportag&&$(".bNum").eq(0).val(a.data.reportag),a.data.reporname&&$(".bName").eq(0).val(a.data.reporname),a.data.groupname&&$(".bName").eq(1).val(a.data.groupname),a.data.groupno&&$(".bNum").eq(1).val(a.data.groupno),a.data.clntsurnm&&$("#clntsurnm").val(a.data.clntsurnm),a.data.dutydeg&&($("#job1").attr("dutydeg",a.data.dutydeg),jobData))for(var e=0;e<jobData.length;e++)if(jobData[e].dutyDeg==a.data.dutydeg){$("#job1").val(jobData[e].text);break}if(a.data.nationab&&($("#country1").attr("nationab",a.data.nationab),countryData))for(var e=0;e<countryData.length;e++)if(countryData[e].nationab==a.data.nationab){$("#country1").val(countryData[e].text);break}if(a.data.birthdate&&$("#uBtdDate").val(a.data.birthdate),a.data.gender)for(var e=0;e<3;e++)if($("#sexy").find(".sexyGroup").eq(e).attr("data-sexy-type")==a.data.gender){$("#sexy").find(".sexyGroup").eq(e).triggerHandler("click");break}if(a.data.marstatus){$("#marriedState").attr("data-marriedstate-type",a.data.marstatus);for(var e=0;e<marriedData.length;e++)if(marriedData[e].value==a.data.marstatus){$("#marriedState").val(marriedData[e].text);break}}if(a.data.edu_Level&&($("#education").attr("eduLevel",a.data.edu_Level),educationData))for(var e=0;e<educationData.length;e++)if(educationData[e].eduLevel==a.data.edu_Level){$("#education").val(educationData[e].text),$("#education").attr("eduLevel",a.data.edu_Level);break}if(a.data.politicalcode&&($("#political").attr("paramno",a.data.politicalcode),politicalData))for(var e=0;e<politicalData.length;e++)if(a.data.politicalcode==politicalData[e].paramno){$("#political").val(politicalData[e].text);break}if(a.data.housetype&&($("#accountType").attr("paramno",a.data.housetype),accountData))for(var e=0;e<accountData.length;e++)if(a.data.housetype==accountData[e].paramno){$("#accountType").val(accountData[e].text);break}if(a.data.ethnic&&($("#people").attr("paramno",a.data.ethnic),peopleData))for(var e=0;e<peopleData.length;e++)if(a.data.ethnic==peopleData[e].paramno){$("#people").val(peopleData[e].text);break}if(a.data.counter&&($("#source").attr("paramno",a.data.counter),sourceData))for(var e=0;e<sourceData.length;e++)if(a.data.counter==sourceData[e].paramno){$("#source").val(sourceData[e].text);break}if(a.data.homephone&&$("#phone").val(a.data.homephone),a.data.addtress){var t=a.data.addtress.split(" ");$("#place").val(t[0]),$("#addDetail").val(t[1])}if(a.data.postcode&&$("#postcode").val(a.data.postcode),a.data.email&&$("#eMail").val(a.data.email),a.data.bankcount&&$("#bankcount").val(a.data.bankcount),a.data.bankname&&($("#bank").attr("bankkey",a.data.bankname),$("#bank").attr("bankcode",a.data.bankcode),bankData))for(var e=0;e<bankData.length;e++)bankData[e].bankkey==a.data.bankname&&$("#bank").val(bankData[e].text)}function textChange(a,e){for(var t=0;t<a.length;t++){var r=a[t][e];delete a[t][e],a[t].text=r}return a}function eventBind(){$("#backgo").click(function(){history.go(-1)}),$("#zx_inforRegister .exist").click(function(){$("#zx_inforRegister .notExist").removeClass("referer_active"),$("#zx_inforRegister .exist").addClass("referer_active"),$("#zx_inforRegister #refererInfo").find("input").prop("disabled",!1).parent().prev().find(".red_star").css("color","red"),$("#zx_inforRegister #refererInfo").find("input").val(""),$(".idTip").hide(),$(".bNum").eq(0).val(""),$(".bName").eq(0).val(""),$(".bNum").eq(1).val(""),$(".bName").eq(1).val(""),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val("")}),$("#zx_inforRegister .notExist").click(function(){$("#zx_inforRegister .exist").removeClass("referer_active"),$("#zx_inforRegister .notExist").addClass("referer_active"),$("#zx_inforRegister #refererInfo").find("input").prop("disabled",!0).parent().prev().find(".red_star").css("color","#fff"),$("#zx_inforRegister #refererInfo").find("input").val(""),$(".idTip").hide(),$(".bNum").eq(0).val(""),$(".bName").eq(0).val(""),$(".bNum").eq(1).val(""),$(".bName").eq(1).val(""),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val("")}),$("#zx_inforRegister .sexyGroup").click(function(){$(".male").removeClass("sexyActive "),$(".female").removeClass("sexyActive "),$(".unclear").removeClass("sexyActive "),$(this).addClass("sexyActive")}),$("#zx_inforRegister #eMail").on("blur",function(){$("#zx_inforRegister .eMailTip").hide(),""!=$(this).val()&&(0==isEmail($(this).val())?($("#zx_inforRegister .eMailTip").show(),$("#zx_inforRegister #eMail").val(""),$("#zx_inforRegister #eMail").focus()):$("#zx_inforRegister .eMailTip").hide())}),$("#zx_inforRegister .checkAreaNum").on("blur",function(){$("#zx_inforRegister .areaTip").hide(),""!=$(this).val()&&(0==checkAreaNum($(this).val())?($(this).val(""),$(this).focus(),$("#zx_inforRegister .areaTip").show()):$("#zx_inforRegister .areaTip").hide())}),$("#zx_inforRegister #phone").on("blur",function(){$("#zx_inforRegister .phoneNumber").hide(),""!=$(this).val()&&(0==checkTel($(this).val())?($(this).val(""),$(this).focus(),$("#zx_inforRegister .phoneNumber").show()):$("#zx_inforRegister .phoneNumber").hide())}),$("#zx_inforRegister #identity").on("blur",function(){if(""!=$(this).val()&&"1"==$("#idType1").attr("procflg01"))if(0==checkTel($(this).val()))$("#zx_inforRegister #identity").val(""),$("#zx_inforRegister #identity").focus(),$("#zx_inforRegister .identityTip").show();else{var a=checkID($(this).val()),e=a.id_birth,t=a.id_gender;$("#zx_inforRegister .identityTip").hide(),$("#uBtdDate").val(e),"M"==t?$(".male").triggerHandler("click"):"F"==t&&$(".female").triggerHandler("click")}}),$("#zx_inforRegister #refererId").on("blur",function(){""==$(this).val()&&""==$("#refererNumber").val()&&($(".idTip").html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;身份证和工号不能同时为空!'),$(".idTip").show()),""!=$(this).val()&&(null==checkID($(this).val())?($("#refererId").val(""),$("#refererId").focus(),$(".idTip").html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;填写正确格式的身份证!'),$(".idTip").show()):$(".idTip").hide())}),$("#zx_inforRegister #refererName").on("blur",function(){""==$(this).val()?($(".idTip").html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;姓名不可为空！'),$(".idTip").show()):$(".idTip").hide()}),$("#refererNumber").on("blur",function(){""==$(this).val()&&""==$("#refererId").val()&&($(".idTip").html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;身份证和工号不能同时为空!'),$(".idTip").show()),""!=$(this).val()&&(0==checkNumber($("#refererNumber").val())?($("#refererNumber").val(""),$("#refererNumber").focus(),$(".idTip").html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;填写正确格式的工号!'),$(".idTip").show()):$(".idTip").hide())}),$("#zx_inforRegister #refererInfo").find("input").on("blur",sendReInfo),$("#zx_inforRegister .referers").children().eq(1).find("input").on("blur",function(){($(".exist").hasClass("referer_active")&&""==$("#refererNumber").val()||$(".notExist").hasClass("referer_active"))&&sendBoInfo()}),$("#zx_inforRegister .referers").children().eq(2).find("input").on("blur",function(){var a=$("#zx_inforRegister .referers").children().eq(1).find("input").eq(0).val(),e=$("#zx_inforRegister .referers").children().eq(1).find("input").eq(1).val();""==a||""==e?($("#zx_inforRegister .referers").children().eq(2).find(".bossTip").html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;先填写完整直辖主管信息!'),$("#zx_inforRegister .referers").children().eq(2).find(".bossTip").show(),$(this).val("")):$("#zx_inforRegister .referers").children().eq(2).find(".bossTip").hide()}),$("#saveData").on("click",saveData),$("#nxt").on("click",nxtData),$(".bankCard").on("click",function(){scanBankCardInfo()}),$(".scanImage").on("click",function(){scanIDCardInfo()}),$("#bankcount").on("blur",function(){var a=/\D/g;a.test($(this).val())?($(this).val(""),$(".accountTip").show()):$(".accountTip").hide()})}function sendReInfo(){if($(".exist").hasClass("referer_active")&&""!=$("#refererName").val()&&(""!=$("#refererId").val()||""!=$("#refererNumber").val())&&$("#refererNumber").val()){var a=$("#apart2").attr("company"),e=$("#apart2").attr("branch"),t=$("#refererNumber").val();refererName=$("#refererName").val(),refererId=$("#refererId").val();var r={company:a,branch:e,agentNum:t};Clients.postClientAjax(url.zx_inforRegister_teamRelation,r,getTeam)}}function getTeam(a){var e=JSON.parse(a.data),t=e.secuityNo,r=e.surName,n=!0;"****"==e.statuz?($(".bNum").eq(0).val(e.reportag),$(".bName").eq(0).val(e.reporname),$(".bNum").eq(1).val(e.groupno),$(".bName").eq(1).val(e.groupname),dutydeg1=e.dutyDec,t!=refererId&&refererId&&($(".bNum").eq(0).val(""),$(".bName").eq(0).val(""),$(".bNum").eq(1).val(""),$(".bName").eq(1).val(""),$(".bName").eq(1).val(""),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val(""),n=!1),refererName!=r&&($(".bNum").eq(0).val(""),$(".bName").eq(0).val(""),$(".bNum").eq(1).val(""),$(".bName").eq(1).val(""),$(".bName").eq(1).val(""),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val(""),n=!1)):($(".bNum").eq(0).val(""),$(".bName").eq(0).val(""),$(".bNum").eq(1).val(""),$(".bName").eq(1).val(""),$(".bName").eq(1).val(""),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val(""),n=!1),n||mui.alert("请核实引荐人信息!")}function sendBoInfo(){var a=$("#zx_inforRegister .referers").children().eq(1).find("input").eq(0).val(),e=$("#zx_inforRegister .referers").children().eq(1).find("input").eq(1).val();if(""!=a&&""!=e&&""==$("#refererNumber").val()){$("#zx_inforRegister .referers").children().eq(2).find(".bossTip").hide();var t=$("#apart2").attr("company"),r=$("#apart2").attr("branch"),n=$(".bNum").eq(0).val(),i={company:t,branch:r,agentNum:n};Clients.postClientAjax(url.zx_inforRegister_teamRelation,i,function(a){var e=JSON.parse(a.data);"****"==e.statuz?($(".bNum").eq(1).val(e.groupno),$(".bName").eq(1).val(e.groupname)):(mui.alert("请核实直辖主管信息!"),$(".bNum").eq(1).val(""),$(".bName").eq(1).val(""))})}}function data(){var a={},e=$("#telphonenum").val(),t=$("#idType1").attr("procflg01"),r=$("#identity").val(),n=$("#apart1").val(),i=$("#apart2").attr("company"),o=$("#apart2").attr("branch"),l=$("#apart3").attr("agencode"),d=$("#refererId").val(),s=$("#refererNumber").val(),u=$("#refererName").val(),c=$(".bNum").eq(0).val(),p=$(".bName").eq(0).val(),m=$(".bName").eq(1).val(),f=$(".bNum").eq(1).val(),v=$("#clntsurnm").val(),g=$("#job1").attr("dutydeg"),b=$("#country1").attr("nationab"),h=$("#uBtdDate").val(),y=$("#sexy").find(".sexyActive").attr("data-sexy-type"),x=$("#marriedState").attr("data-marriedstate-type"),N=$("#education").attr("eduLevel"),k=$("#political").attr("paramno"),D=$("#accountType").attr("paramno"),_=$("#people").attr("paramno"),I=$("#phone").val(),C=$("#place").val()+" "+$("#addDetail").val(),q=$("#postcode").val(),z=$("#eMail").val(),T=$("#bankcount").val(),A=$("#bank").attr("bankkey"),R=$("#bank").attr("bankcode"),j=$("#source").attr("paramno"),S=$("#apart1").attr("subcomid");return a.telphonenum=e,a.procflg01=t,a.chequeno=r,a.prodesc02=n,a.company=i,a.branch=o,a.agencode=l,a.intro_Chequeno=d,a.intro_No=s,a.intro_Name=u,a.reportag=c,a.reporname=p,a.groupname=m,a.groupno=f,a.clntsurnm=v,a.dutydeg=g,a.nationab=b,a.birthdate=h,a.gender=y,a.marstatus=x,a.edu_Level=N,a.politicalcode=k,a.housetype=D,a.ethnic=_,a.homephone=I,a.addtress=C,a.postcode=q,a.email=z,a.bankcount=T,a.bankname=A,a.counter=j,a.bankcode=R,a.prodescId=S,a}function saveData(){if(data(),0==state){for(var a=($("#job1").attr("dutydeg"),jobData),e=0;e<a.length;e++)a[e].num=a.length-1-e;if(dutydeg1&&$("#job1").attr("dutydeg")&&$("#job1").val()){for(var t,r,n=0;n<a.length;n++)a[n].dutyDeg==dutydeg1&&(t=a[n].num),a[n].dutyDeg==$("#job1").attr("dutydeg")&&(r=a[n].num);if(Number(t)<Number(r)&&t&&r)return mui.alert("引荐人职级低于您的职级，请重新录入"),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val(""),$(".bNum").val(""),void $(".bName").val("")}Clients.postClientAjax(url.zx_inforRegister_save,data(),function(a){mui.alert("保存成功"),state=1})}else if(1==state){for(var a=($("#job1").attr("dutydeg"),jobData),e=0;e<a.length;e++)a[e].num=a.length-1-e;if(dutydeg1&&$("#job1").attr("dutydeg")&&$("#job1").val()){for(var t,r,n=0;n<a.length;n++)a[n].dutyDeg==dutydeg1&&(t=a[n].num),a[n].dutyDeg==$("#job1").attr("dutydeg")&&(r=a[n].num);if(Number(t)<Number(r)&&t&&r)return mui.alert("引荐人职级低于您的职级，请重新录入"),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val(""),$(".bNum").val(""),void $(".bName").val("")}Clients.postClientAjax(url.zx_inforRegister_update,data(),function(){mui.alert("修改成功")})}}function nxtData(){for(var a=!0,e=($("#job1").attr("dutydeg"),jobData),t=0;t<e.length;t++)e[t].num=e.length-1-t;if(dutydeg1&&$("#job1").attr("dutydeg")&&$("#job1").val()){for(var r,n,i=0;i<e.length;i++)e[i].dutyDeg==dutydeg1&&(r=e[i].num),e[i].dutyDeg==$("#job1").attr("dutydeg")&&(n=e[i].num);Number(r)<Number(n)&&r&&n&&(mui.alert("引荐人职级低于您的职级，请重新录入"),$("#refererId").val(""),$("#refererNumber").val(""),$("#refererName").val(""),$(".bNum").val(""),$(".bName").val(""),a=!1)}""==$("#apart1").val()&&(mui.alert("请填写分公司信息"),a=!1),""==$("#apart2").val()&&(mui.alert("请填写中支信息"),a=!1),""==$("#apart3").val()&&(mui.alert("请填写营销服务部门信息"),a=!1),$(".exist").hasClass("referer_active")&&""==$("#refererId").val()&&""==$("#refererNumber").val()&&(mui.alert("请填写引荐人身份证号或工号信息"),a=!1),""==$("#refererName").val()&&$(".exist").hasClass("referer_active")&&(mui.alert("请填写引荐人姓名信息"),a=!1),""==$(".referers").children().eq(1).find("input").eq(0).val()&&(mui.alert("请填写直辖主管工号信息"),a=!1),""==$(".referers").children().eq(1).find("input").eq(1).val()&&(mui.alert("请填写直辖主管姓名信息"),a=!1),""==$(".referers").children().eq(2).find("input").eq(0).val()&&(mui.alert("请填写团队最高主管工号信息"),a=!1),""==$(".referers").children().eq(2).find("input").eq(1).val()&&(mui.alert("请填写团队最高主管姓名信息"),a=!1),""==$("#clntsurnm").val()&&(mui.alert("请填写基本信息处姓名信息"),a=!1),""==$("#job1").val()&&(mui.alert("请填写申请职级信息"),a=!1),""==$("#country1").val()&&(mui.alert("请填写国籍信息"),a=!1),""==$("#idType1").val()&&(mui.alert("请填写证件类型信息"),a=!1),""==$("#identity").val()&&(mui.alert("请填写证件号码信息"),a=!1),""==$("#uBtdDate").val()&&(mui.alert("请填写出生日期信息"),a=!1),""==$("#marriedState").attr("data-marriedState-type")&&(mui.alert("请填写婚姻状况信息"),a=!1),""==$("#education").attr("data-education-type")&&(mui.alert("请填写学历信息"),a=!1),""==$("#political").attr("data-political-type")&&(mui.alert("请填写政治面貌信息"),a=!1),""==$("#accountType").attr("data-account-type")&&(mui.alert("请填写户口类型信息"),a=!1),""==$("#people").val()&&(mui.alert("请填写民族信息"),a=!1),""==$("#place").val()&&(mui.alert("请填写地址信息"),a=!1),""==$(".detailAdd").val()&&(mui.alert("请填写详细地址信息"),a=!1),""==$("#postcode").val()&&(mui.alert("请填写邮递区号信息"),a=!1),""==$("#bankcount").val()&&(mui.alert("请填写银行账号信息"),a=!1),""==$("#bank").val()&&(mui.alert("请填写银行名称信息"),a=!1),""==$("#source").val()&&(mui.alert("请填写营销员来源信息"),a=!1),1==a&&(0==state?Clients.postClientAjax(url.zx_inforRegister_save,data(),function(){if(mui.alert("保存成功"),null==sessionStorage.getItem("stutas")){var a=$("#identity").val(),e=$("#apart1").attr("subcomid");Clients.postClientAjax(url.zx_printpdf,{chequeno:a,subcomid:e},function(){})}sessionStorage.setItem("applicationName",$("#clntsurnm").val());var t=$("#identity").val(),r=$("#place").val()+""+$("#addDetail").val(),n=$("#postcode").val(),e=$("#apart1").attr("subcomid"),i=sessionStorage.getItem("payAmount"),o={subcomid:e,chequeno:t,addrress:r,postcode:n,paymoney:i},l=JSON.stringify(o),d=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(d)?(sessionStorage.setItem("contract",l),location.hash="#zx_job_applicationios"):/android/.test(d)&&(sessionStorage.setItem("contract",l),location.hash="#zx_job_application"),state=1}):1==state&&Clients.postClientAjax(url.zx_inforRegister_update,data(),function(){if(mui.alert("保存成功"),null==sessionStorage.getItem("stutas")){var a=$("#identity").val(),e=$("#apart1").attr("subcomid");Clients.postClientAjax(url.zx_printpdf,{chequeno:a,subcomid:e},function(){})}sessionStorage.setItem("applicationName",$("#clntsurnm").val());var t=$("#identity").val(),r=$("#place").val()+""+$("#addDetail").val(),n=$("#postcode").val(),e=$("#apart1").attr("subcomid"),i=sessionStorage.getItem("payAmount"),o={subcomid:e,chequeno:t,addrress:r,postcode:n,paymoney:i},l=JSON.stringify(o),d=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(d)?(sessionStorage.setItem("contract",l),location.hash="#zx_job_applicationios"):/android/.test(d)&&(sessionStorage.setItem("contract",l),location.hash="#zx_job_application")}))}function numberCheck(a){""==$(a).val()?($(a).parent().parent().parent().prev().html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;工号不能为空!'),$(a).parent().parent().parent().prev().show()):0==checkNumber($(a).val())?($(a).val(""),$(a).focus(),$(a).parent().parent().parent().prev().html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;填写正确格式的工号!'),$(a).parent().parent().parent().prev().show()):$(a).parent().parent().parent().prev().hide()}function nameCheck(a){""==$(a).val()?($(a).parent().parent().parent().prev().html('<img src="resources/imgs/tip.jpg" height="18px"/>&nbsp;姓名不可为空！'),$(a).parent().parent().parent().prev().show()):$(a).parent().parent().parent().prev().hide()}function isEmail(a){var e=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z]{2,4}$/;return e.test(a)}function checkTel(a){var e=/([0-9]{3,4}-)?([0-9]){7,8}/g;return e.test(a)}function checkAreaNum(a){var e=/[1-9]\d{5}(?!\d)/g;return e.test(a)}function GetVerifyBit(id){var result,nNum=eval(7*id.charAt(0)+9*id.charAt(1)+10*id.charAt(2)+5*id.charAt(3)+8*id.charAt(4)+4*id.charAt(5)+2*id.charAt(6)+1*id.charAt(7)+6*id.charAt(8)+3*id.charAt(9)+7*id.charAt(10)+9*id.charAt(11)+10*id.charAt(12)+5*id.charAt(13)+8*id.charAt(14)+4*id.charAt(15)+2*id.charAt(16));switch(nNum%=11){case 0:result="1";break;case 1:result="0";break;case 2:result="X";break;case 3:result="9";break;case 4:result="8";break;case 5:result="7";break;case 6:result="6";break;case 7:result="5";break;case 8:result="4";break;case 9:result="3";break;case 10:result="2"}return result}function Get18(a){if(CheckValue(a)){var e=a,t=e;return 0!=e.length&&(15==e.length&&(t=e.substring(6,8)>20?e.substring(0,6)+"19"+e.substring(6,15):e.substring(0,6)+"20"+e.substring(6,15),t+=GetVerifyBit(t)),t)}return!1}function identity(a,e,t,r){this.id_no=a,this.id_area=e,this.id_birth=t,this.id_gender=r}function checkID(a){var e=a.length,t="",r="";if(0==e)return null;if(null==aCity[Number(a.substr(0,2))])return null;if(15!=e&&18!=e)return null;if(15==e){var n="19"+a.substring(6,8),i=Number(n),o=a.substring(8,10),l=Number(o),d=a.substring(10,12),s=Number(d),u=i+"/"+l+"/"+s,c=new Date(u);if(u!=c.getFullYear()+"/"+(c.getMonth()+1)+"/"+c.getDate())return null;t=n+"/"+o+"/"+d,r="13579".indexOf(a.substring(14,15))!=-1?"M":"F"}else if(18==e){if(a.indexOf("X")>0&&17!=a.indexOf("X")||a.indexOf("x")>0&&17!=a.indexOf("x"))return null;var n=a.substring(6,10),i=Number(n);if(i>2200||i<1900)return null;var o=a.substring(10,12),l=Number(o),d=a.substring(12,14),s=Number(d),u=i+"/"+l+"/"+s,c=new Date(u);if(u!=c.getFullYear()+"/"+(c.getMonth()+1)+"/"+c.getDate())return null;if(t=n+o+d,"x"==a.charAt(17)||"X"==a.charAt(17)){if("x"!=GetVerifyBit(a)&&"X"!=GetVerifyBit(a))return null}else if(a.charAt(17)!=GetVerifyBit(a))return null;r="13579".indexOf(a.substring(16,17))>-1?"M":"F"}var p=new identity(a,aCity[Number(a.substr(0,2))],t,r);return p}function checkNumber(a){var e=/\d/g;return!!(a.length<9&&""!=a&&e.test(a))}function selector(){!function(a,e){a.init({gestureConfig:{tap:!1}}),a.ready(function(){var t=new a.PopPicker;t.setData(countryData);var r=$("#country"),n=$("#country1");r.on("tap",function(a){t.show(function(a){n.val(a[0].text),n.attr("nationab",a[0].nationab)})});var i=new a.PopPicker;i.setData(jobData);var o=$("#job"),l=$("#job1");o.on("tap",function(a){i.show(function(a){l.val(a[0].text),l.attr("dutyDeg",a[0].dutyDeg),l.attr("dutyEname",a[0].dutyEname)})});var d=$("#uBtdDate1");e.getElementById("uBtdDate");d.on("tap",function(){var t=e.getElementById("uBtdDate").getAttribute("data-options")||"{}",r=JSON.parse(t);DatePicker=new a.DtPicker(r);var n=e.getElementsByClassName("mui-dtpicker-title")[0],i=e.createElement("h2");i.setAttribute("class","addTitle"),$(n).before(i),DatePicker.show(function(a){var e=a.y.value+"-"+a.m.value+"-"+a.d.value;$("#uBtdDate").val(e)})});var s=new a.PopPicker;s.setData(politicalData);var u=$("#political1"),c=$("#political");u.on("tap",function(a){s.show(function(a){c.val(a[0].text),c.attr("paramno",a[0].paramno)})});var p=new a.PopPicker;p.setData(accountData);var m=$("#accountType1"),f=$("#accountType");m.on("tap",function(a){p.show(function(a){f.val(a[0].text),f.attr("paramno",a[0].paramno)})});var v=new a.PopPicker;v.setData(peopleData);var g=$("#people1"),b=$("#people");g.on("tap",function(a){v.show(function(a){b.val(a[0].text),b.attr("paramno",a[0].paramno)})});var h=new a.PopPicker;h.setData(sourceData);var y=$("#source1"),x=$("#source");y.on("tap",function(a){h.show(function(a){x.val(a[0].text),x.attr("paramno",a[0].paramno)})});var N=new a.PopPicker;N.setData(bankData);var k=$("#bank1"),D=$("#bank");k.on("tap",function(a){N.show(function(a){$(".bankTip").hide(),D.val(a[0].text),D.attr("bankkey",a[0].bankkey),D.attr("bankcode",a[0].bankcode)})});var _=function(a,e){return a[e]||""},I=new a.PopPicker({layer:3});I.setData(cityData3);var C=$("#place1");C.on("tap",function(a){I.show(function(a){$("#place").val(_(a[0],"text")+_(a[1],"text")+_(a[2],"text")),$("#place").attr("data-address-type",_(a[0],"value")+_(a[1],"value")+_(a[2],"value"))})});var q=new a.PopPicker;q.setData(marriedData);var z=$("#marriedState1"),T=$("#marriedState");z.on("tap",function(a){q.show(function(a){$(".bankTip").hide(),T.val(a[0].text),T.attr("data-marriedState-type",a[0].value)})});var A=new a.PopPicker;A.setData(educationData);var R=$("#education1");$("#education");R.on("tap",function(a){A.show(function(a){$("#education").val(a[0].text),$("#education").attr("eduLevel",a[0].eduLevel)})})})}(mui,document)}function scanIDCardInfo(){cordova.sino.getIDCardInfo(function(a){a.success?a.data.exit||("IOS"===appVersion?a.data.ok&&(a.data.isFront?sessionStorage.getItem("Phone_card")!=a.data.Id?mui.confirm("您的证件号码与登录环节录入信息不一致，是否同意覆盖并用该证件号码进行登录","Tip",["否","是"],function(e){1==e.index&&Clients.postClientAjax(url.zx_verifyChequeno,{chequeno:a.data.Id},function(e){alert(e.success),e.success?($("#clntsurnm").val(a.data.Name),"女"==a.data.Sex?($(".female").trigger("click"),$(".female").attr("data-sexy-type","F")):($(".male").trigger("click"),$(".male").attr("data-sexy-type","M")),$("#idType1").val("身份证"),$("#idType1").attr("procflg01","1"),$("#uBtdDate").val(a.data.Birthday),$("#identity").val(a.data.Id)):mui.alert(e.message)})}):($("#clntsurnm").val(a.data.Name),"女"==a.data.Sex?($(".female").trigger("click"),$(".female").attr("data-sexy-type","F")):($(".male").trigger("click"),$(".male").attr("data-sexy-type","M")),$("#idType1").val("身份证"),$("#idType1").attr("procflg01","1"),$("#uBtdDate").val(a.data.Birthday),$("#identity").val(a.data.Id)):mui.alert("请扫描正面身份证")):(a.data.bigPic="",a.data.smallPic="",cordova.sino.confirmIDCardInfo(function(a){a.success?a.data.ok?a.data.isFront?sessionStorage.getItem("Phone_card")!=a.data.Id?mui.confirm("您的证件号码与登录环节录入信息不一致，是否同意覆盖并用该证件号码进行登录","Tip",["否","是"],function(e){1==e.index&&Clients.postClientAjax(url.zx_verifyChequeno,{chequeno:a.data.Id},function(e){alert(e.success),e.success?($("#clntsurnm").val(a.data.Name),"女"==a.data.Sex?($(".female").trigger("click"),$(".female").attr("data-sexy-type","F")):($(".male").trigger("click"),$(".male").attr("data-sexy-type","M")),$("#idType1").val("身份证"),$("#idType1").attr("procflg01","1"),$("#uBtdDate").val(a.data.Birthday),$("#identity").val(a.data.Id)):mui.alert(e.message)})}):($("#clntsurnm").val(a.data.Name),"女"==a.data.Sex?($(".female").trigger("click"),$(".female").attr("data-sexy-type","F")):($(".male").trigger("click"),$(".male").attr("data-sexy-type","M")),$("#idType1").val("身份证"),$("#idType1").attr("procflg01","1"),$("#uBtdDate").val(a.data.Birthday),$("#identity").val(a.data.Id)):mui.alert("请扫描正面身份证"):scanIDCardInfo():mui.alert("确认身份证信息发生错误,请手动输入!")},a.data))):mui.alert("扫描身份证信息失败!")})}function scanBankCardInfo(){cordova.sino.getBankCardInfo(function(a){a.success?a.data.exit||("IOS"===appVersion?a.data.ok&&("中信银行"==a.data.CardInsName||"中国工商银行"==a.data.CardInsName?($("#bankcount").val(a.data.CardNumber),$("#bank").val(a.data.CardInsName),"中信银行"==a.data.CardInsName&&$("#bank").attr("bankkey","CITICINDUB"),"中国工商银行"==a.data.CardInsName&&$("#bank").attr("bankkey","INDU&COMMB")):mui.alert("现阶段只支持中信银行和工商银行")):(a.data.bigPic="",a.data.smallPic="",cordova.sino.confirmBankCardInfo(function(a){a.success?a.data.ok?"中信银行"==a.data.CardInsName||"中国工商银行"==a.data.CardInsName?($("#bankcount").val(a.data.CardNumber),$("#bank").val(a.data.CardInsName),"中信银行"==a.data.CardInsName&&$("#bank").attr("bankkey","CITICINDUB"),"中国工商银行"==a.data.CardInsName&&$("#bank").attr("bankkey","INDU&COMMB")):mui.alert("现阶段只支持中信银行和工商银行"):scanBankCardInfo():mui.alert("确认银行卡信息发生错误!")},a.data))):mui.alert("扫描银行卡信息失败!")})}var bankData,sourceData,jobData,educationData,peopleData,accountData,countryData,politicalData,IDKinds=[{value:"1",text:"身份证"},{value:"2",text:"中国护照"},{value:"3",text:"军官证"},{value:"4",text:"港澳回乡证"},{value:"5",text:"其它"},{value:"6",text:"出生证"},{value:"7",text:"户口本"},{value:"8",text:"士兵证"},{value:"9",text:"台胞证"
},{value:"A",text:"外国人永久居留身份证"}],marriedData=[{value:"M",text:"已婚"},{value:"S",text:"未婚"},{value:"N",text:"不明"},{value:"L",text:"离婚"},{value:"G",text:"鳏寡"}],apt1,apt2,head,apartPicker2,apartPicker3,dutydeg1,refererName,refererId,aCity={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},state=0;$(function(){init1(),init2()});
//# sourceMappingURL=zx_inforRegister.js.map
