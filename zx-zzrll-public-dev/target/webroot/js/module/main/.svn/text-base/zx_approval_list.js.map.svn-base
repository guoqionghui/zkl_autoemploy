{"version":3,"sources":["js/module/main/zx_approval_list.js"],"names":["init","eventBind","fHtml","$","html","sHtml","selectors","remove","Clients","postClientAjax","url","zx_approvalListP","strus","upcoming","getApprovalListUpcomingData","click","toggle","val","attr","show","eq","this","index","hide","addClass","siblings","removeClass","record","getApprovalListRecordData","applicateName","applicateState","startTime","endTime","dateBegin","Date","slice","dateEnd","mui","alert","Math","floor","hasClass","zx_approvalListA","clntsurNm","statusNo","startDate","endDate","getApprovalListAUData","getApprovalListARData","doc","input","ready","userPicker2","PopPicker","cancelBtn","document","getElementsByClassName","addH2","createElement","setAttribute","innerHTML","after","showBorrowUsing","getElementById","showBank","addEventListener","event","setData","aprovalState1","aprovalState","blur","items","value","text","btns","optionsJson","getAttribute","options","JSON","parse","DatePicker","DtPicker","rs","dVlaue","y","m","d","uBtdDate","dispose","data","success","appListRes","i","length","li","statusno","find","name","changTime","applydate","linkname","statusname","secuityno","append","sessionStorage","setItem","location","hash","console","log","message","datetime","getFullYear","getMonth","getDate"],"mappings":"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","file":"js/module/main/zx_approval_list.js","sourcesContent":["var DatePicker;//时间选择器\r\nvar fHtml;//我的待办列表 li html\r\nvar sHtml;//历史记录列表 li html\r\nvar upcoming=\"p\";//传参 p为待办,f为历史记录\r\nvar record=\"f\";//传参 p为待办,f为历史记录\r\n\r\n$(document).ready(function() {\r\n\tinit();\r\n});\r\n\r\n\r\nfunction init(){\r\n\t//调用绑定事件\r\n\teventBind();\r\n\tfHtml=$(\".upcoming ul\").html();\r\n\tsHtml=$(\".record ul\").html();\r\n\t//调用mui选择器函数\r\n\tselectors();\r\n\t//进入页面请求数据\r\n\t$(\".upcoming ul li\").remove();\r\n\tClients.postClientAjax(url.zx_approvalListP,{strus:upcoming},getApprovalListUpcomingData);\r\n\t\r\n}\r\n\r\nfunction eventBind(){\r\n\t//点击搜索出现或隐藏\r\n\t$(\"#search\").click(function(){\r\n\t\t$('.search_condition').toggle();\r\n\t\t$(\".applicate-name\").val(\"\");\r\n\t\t$(\"#se-approval-state\").val(\"\");\r\n\t\t$(\".start-time input\").attr(\"value\",\"\");\r\n\t})\r\n\t//\t选项卡默认选中我的待办\r\n\t$(\".tab-bar~div\").show().eq($(this).index()).hide();\r\n\t$(\".tab-bar .line-first\").show();\r\n\t$(\".tab-bar .line-second\").hide();\r\n\t\r\n\t//选项卡切换\r\n    $(\".tab-bar li\").click(function() {\r\n        $(\".tab-bar li\").eq($(this).index()).addClass(\"cur\").siblings().removeClass('cur');\r\n        $(\".tab-bar .line-first\").toggle();\r\n        $(\".tab-bar .line-second\").toggle();\r\n        $(\".tab-bar~div\").hide().eq($(this).index()).show();\r\n    });\r\n    //点击我的待办 发起请求\r\n\t$(\".table li:first-of-type\").click(function(){\r\n\t\t$(\".upcoming ul li\").remove();\r\n\t\tClients.postClientAjax(url.zx_approvalListP,{strus:upcoming},getApprovalListUpcomingData);\r\n\t});\r\n\t//点击历史记录 发起请求\r\n\t$(\".table li:last-of-type\").click(function(){\r\n\t\t$(\".record ul li\").remove();\r\n\t\tClients.postClientAjax(url.zx_approvalListP,{strus:record},getApprovalListRecordData);\r\n\t});\r\n\t\r\n\t//点击确认按钮请求数据\r\n\t$(\".btnonclick\").click(function(){\r\n\t\t//点击确认键后,搜索框隐藏\r\n\t\t$('.search_condition').toggle();\r\n\r\n\t\tvar applicateName=$(\".applicate-name\").val();\r\n\t\tvar applicateState=$(\"#se-approval-state\").attr(\"data-i\");\r\n\t\tvar startTime=$(\".startTime\").val();\r\n\t\tvar endTime=$(\".endTime\").val();\r\n\t\tif(startTime && endTime){\r\n\t\t    var dateBegin=new Date(startTime.slice(0,4),startTime.slice(5,7)-1,startTime.slice(8,10));\r\n\t\t    var dateEnd=new Date(endTime.slice(0,4),endTime.slice(5,7)-1,endTime.slice(8,10));\r\n\t\t    if(dateEnd-dateBegin<0){\r\n\t\t        mui.alert(\"结束时间不能小于开始时间\");\r\n\t\t        return;\r\n\t\t    }\r\n\t\t    if(Math.floor((dateEnd-dateBegin)/(3600*24*1000))>30){\r\n\t\t        mui.alert(\"收费日期查询区间不得大于30天\");\r\n\t\t        return false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif($(\".table li:first-of-type\").hasClass(\"cur\")){\r\n\t\t\tClients.postClientAjax(url.zx_approvalListA,\r\n\t\t\t{clntsurNm:applicateName,statusNo:applicateState,startDate:startTime,endDate:endTime,strus:upcoming},\r\n\t\t\tgetApprovalListAUData);\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\tClients.postClientAjax(url.zx_approvalListA,\r\n\t\t\t{clntsurNm:applicateName,statusNo:applicateState,startDate:startTime,endDate:endTime,strus:record},\r\n\t\t\tgetApprovalListARData);\r\n\t\t}\r\n\t\r\n\t\r\n\t});\r\n\r\n\r\n}\r\n//mui选择器\r\nfunction selectors(){\r\n\t/*下拉选择器审核状态*/\r\n\t(function(mui, doc) {\r\n\t\tmui.init();\r\n\t\tmui('.mui-input-row input').input();\r\n\t\tmui.ready(function() {\r\n\t\t\t//普通示例\r\n\t\t\tuserPicker2 = new mui.PopPicker();\r\n\t\t\tvar cancelBtn = document.getElementsByClassName('mui-poppicker-btn-cancel')[0];\r\n\t\t\tvar addH2 = document.createElement(\"h2\");\r\n\t\t\taddH2.setAttribute(\"class\", \"addTitle\");\r\n\t\t\taddH2.innerHTML = \"请选择审核状态\";\r\n\t\t\t$(cancelBtn).after(addH2);\r\n\t\t\tvar showBorrowUsing = document.getElementById('se-approval-state');\r\n\t\t\tvar showBank = document.getElementById('inputMask');\r\n\t\t\tshowBank.addEventListener('tap', function(event) {\r\n\t\t\t\tif($(\".table li:first-of-type\").hasClass(\"cur\")){\r\n\t\t\t\tuserPicker2.setData(aprovalState1); //aprovalState 审核状态\r\n\t\t\t}else{\r\n\t\t\t\tuserPicker2.setData(aprovalState); //aprovalState 审核状态\r\n\t\t\t}\r\n\t\t\t\t$(\"input\").blur();\r\n\t\t\t\tuserPicker2.show(function(items) {\r\n\t\t\t\t\tshowBorrowUsing.value = items[0].text;\r\n\t\t\t\t\tshowBorrowUsing.setAttribute('data-i',items[0].value) ;\r\n\t\t\t\t\t//返回 false 可以阻止选择框的关闭\r\n\t\t\t\t\t//return false;\r\n\t\t\t\t});\r\n\t\t\t}, false);\r\n\t\t});\r\n\t})(mui, document);\r\n\t//时间选择器  日期 \r\n\t(function(mui) {\r\n\t\tmui.init();\r\n\t\tvar btns = mui('.uBtdDate');\r\n\t\tbtns[0].addEventListener('tap', function() {\r\n\t\t\tvar optionsJson = this.getAttribute('data-options') || '{}';\t\t\t\r\n\t\t\tvar options = JSON.parse(optionsJson);\t\t\t\r\n\t\t\t\t/* 首次显示时实例化组件\r\n\t\t\t\t * 示例为了简洁，将 options 放在了按钮的 dom 上\r\n\t\t\t\t * 也可以直接通过代码声明 optinos 用于实例化 DtPicker\r\n\t\t\t\t */\t\r\n\t\t\tDatePicker = new mui.DtPicker(options);\r\n\t\t\t//$(\".mui-dtpicker-header h2.accidenttime\").text(\"请选择起始日期\");\r\n\t\t\tDatePicker.show(function(rs) {\t\t\t\t\r\n\t\t\t\t\t/* * rs.value 拼合后的 value\r\n\t\t\t\t\t * rs.text 拼合后的 text\r\n\t\t\t\t\t * rs.y 年，可以通过 rs.y.vaue 和 rs.y.text 获取值和文本\r\n\t\t\t\t\t * rs.m 月，用法同年\r\n\t\t\t\t\t * rs.d 日，用法同年\r\n\t\t\t\t\t * rs.h 时，用法同年\r\n\t\t\t\t\t * rs.i 分（minutes 的第二个字母），用法同年\t\t\t\t \r\n\t\t\t\t\t result.innerText = '选择结果: ' + rs.text;\t*/\t\r\n\t\t\t\tvar dVlaue=rs.y.value+\"/\"+rs.m.value+\"/\"+rs.d.value;\r\n\t\t\t\t$('.uBtdDate')[0].setAttribute(\"value\",dVlaue);\t\r\n\t\t\t\tuBtdDate=true;\r\n\t\t\t\t\t /** 返回 false 可以阻止选择框的关闭\r\n\t\t\t\t\t * return false;\r\n\t\t\t\t\t * 释放组件资源，释放后将将不能再操作组件\r\n\t\t\t\t\t * 通常情况下，不需要示放组件，new DtPicker(options) 后，可以一直使用。\r\n\t\t\t\t\t * 当前示例，因为内容较多，如不进行资原释放，在某些设备上会较慢。\r\n\t\t\t\t\t * 所以每次用完便立即调用 dispose 进行释放，下次用时再创建新实例。*/\r\n\t\t\t\tDatePicker.dispose();\r\n\t\t\t});\t\t\t\t\r\n\t\t}, false);\r\n\t\t/*第二个日期选择框*/\r\n\t\tbtns[1].addEventListener('tap', function() {\r\n\t\t\tvar optionsJson = this.getAttribute('data-options') || '{}';\t\t\t\r\n\t\t\tvar options = JSON.parse(optionsJson);\t\r\n\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * 首次显示时实例化组件\r\n\t\t\t\t * 示例为了简洁，将 options 放在了按钮的 dom 上\r\n\t\t\t\t * 也可以直接通过代码声明 optinos 用于实例化 DtPicker\r\n\t\t\t\t */\t\r\n\t\t\tDatePicker = new mui.DtPicker(options);\r\n\t\t\t$(\".mui-dtpicker-header h2.accidenttime\").text(\"请选择终止日期\");\r\n\t\t\tDatePicker.show(function(rs) {\t\t\t\t\r\n\t\t\t\t\t/* * rs.value 拼合后的 value\r\n\t\t\t\t\t * rs.text 拼合后的 text\r\n\t\t\t\t\t * rs.y 年，可以通过 rs.y.vaue 和 rs.y.text 获取值和文本\r\n\t\t\t\t\t * rs.m 月，用法同年\r\n\t\t\t\t\t * rs.d 日，用法同年\r\n\t\t\t\t\t * rs.h 时，用法同年\r\n\t\t\t\t\t * rs.i 分（minutes 的第二个字母），用法同年\t\t\t\t \r\n\t\t\t\t\t result.innerText = '选择结果: ' + rs.text;\t*/\t\r\n\t\t\t\tvar dVlaue=rs.y.value+\"/\"+rs.m.value+\"/\"+rs.d.value;\r\n\t\t\t\t$('.uBtdDate')[1].setAttribute(\"value\",dVlaue);\t\r\n\t\t\t\tuBtdDate=true;\r\n\t\t\t\t\r\n\t\t\t\t\t /** 返回 false 可以阻止选择框的关闭\r\n\t\t\t\t\t * return false;\r\n\t\t\t\t\t * 释放组件资源，释放后将将不能再操作组件\r\n\t\t\t\t\t * 通常情况下，不需要示放组件，new DtPicker(options) 后，可以一直使用。\r\n\t\t\t\t\t * 当前示例，因为内容较多，如不进行资原释放，在某些设备上会较慢。\r\n\t\t\t\t\t * 所以每次用完便立即调用 dispose 进行释放，下次用时再创建新实例。*/\r\n\t\t\t\tDatePicker.dispose();\r\n\t\t\t});\t\r\n\t\t}, false);\r\n\t})(mui);\r\n}\r\n\r\n//一进页面请求数据回调函数,默认我的待办\r\nfunction getApprovalListUpcomingData(data){\r\n\tif(data.success){\r\n\t\tvar appListRes=data.data.items;\r\n\t\t$(\".upcoming ul li\").remove();\r\n\t\tfor(var i=0;i<appListRes.length;i++){\r\n\t\t\tvar li =$(fHtml);\r\n\t\t\tvar statusno = appListRes[i].statusno;\r\n\t\t\tli.find(\".app-name\").html(appListRes[i].name);\r\n\t\t\tli.find(\".app-time\").html(changTime(new Date(appListRes[i].applydate)));\r\n\t\t\tli.find(\".referral-person\").html(appListRes[i].linkname);\r\n\t\t\tif(appListRes[i].statusname){\r\n\t\t\t\tli.find(\".approval-state\").html(appListRes[i].statusname);\r\n\t\t\t\tli.attr(\"volor\",statusno);\r\n\t\t\t\tli.attr('secuitynum',appListRes[i].secuityno);\r\n\t\t\t\tli.attr('strus',upcoming);\r\n\t//\t\t\tli.defineProperty(li,\"secuitynum\",{enumerable:false,value:appListRes[i].secuityno});\r\n\t\t\t}\t\r\n\t\t\t$(\"#zx_approval_list .ul\").append(li);\t\t\r\n\t\t\t// $(\"#zx_approval_list .ul\").append(\"<li volor=\"+statusno +\"secuitynum=\"+appListRes[i].secuityno\">\"+li.html()+\"</li>\");\r\n\t\t\t$(\"#zx_approval_list .ul li\").click(function(){\r\n\t\t\t\tsessionStorage.setItem(\"secuityno\",$(this).attr(\"secuitynum\"));\r\n\t\t\t\tsessionStorage.setItem(\"strus\",$(this).attr(\"strus\"));\r\n\t            location.hash=\"#zx_commonAudit\";\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\t\r\n\t}else{\r\n\t\tmui.alert(\"暂无数据\");\r\n\t\t$(\".upcoming ul li\").remove();\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n//点击历史记录请求数据回调函数\r\nfunction getApprovalListRecordData(data){\r\n\tconsole.log(data);\r\n\tif(data.success){\r\n\t\tvar appListRes=data.data.items;\r\n\t\t$(\".record ul li\").remove();\r\n\t\tfor(var i=0;i<appListRes.length;i++){\r\n\t\t\tvar li =$(sHtml);\r\n\t\t\tvar statusno = appListRes[i].statusno\r\n\t\t\tli.find(\".app-name\").html(appListRes[i].name);\r\n\t\t\tli.find(\".app-time\").html(changTime(new Date(appListRes[i].applydate)));\r\n\t\t\tli.find(\".referral-person\").html(appListRes[i].linkname);\r\n\t\t\tli.find(\".approval-state\").html(appListRes[i].statusname);\r\n\t\t\tli.attr(\"volor\",statusno);\r\n\t\t\tli.attr('secuitynum',appListRes[i].secuityno);\r\n\t\t\tli.attr('strus',record);\r\n\t//\t\tli.defineProperty(li,\"secuitynum\",{enumerable:false,value:appListRes[i].secuityno});\r\n\t\t\t$(\".ul\").append(li);\r\n\t\t\tli.click(function(){\r\n\t\t\t\tsessionStorage.setItem(\"secuityno\",$(this).attr(\"secuitynum\"));\r\n\t\t\t\tsessionStorage.setItem(\"strus\",$(this).attr(\"strus\"));\r\n\t            location.hash=\"#zx_commonAudit\";\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}else{\r\n\t\tmui.alert(data.message);\r\n\t\t$(\".record ul li\").remove();\r\n\t}\r\n\t\r\n}\r\n//点击确认 我的待办数据\r\nfunction getApprovalListAUData(data){\t\r\n\tif(data.success){\r\n\t\tvar appListRes=data.data.items;\r\n\t\t$(\".upcoming ul li\").remove();\r\n\t\tfor(var i=0;i<appListRes.length;i++){\r\n\t\t\tvar li =$(fHtml);\r\n\t\t\tli.find(\".app-name\").html(appListRes[i].name);\r\n\t\t\tli.find(\".app-time\").html(changTime(new Date(appListRes[i].applydate)));\r\n\t\t\tvar statusno = appListRes[i].statusno\r\n\t\t\tli.find(\".referral-person\").html(appListRes[i].linkname);\r\n\t\t\tif(appListRes[i].statusname){\r\n\t\t\t\tli.find(\".approval-state\").html(appListRes[i].statusname);\r\n\t\t\t\tli.attr(\"volor\",statusno);\r\n\t\t\t\tli.attr('secuitynum',appListRes[i].secuityno);\r\n\t\t\t\tli.attr('strus',upcoming);\r\n\t\t\t}\r\n\t\t\t//动态添加li\r\n\t\t\t$(\"#zx_approval_list .ul\").append(\"<li>\"+li.html()+\"</li>\");\r\n\t\t\t//点击li时存进seesion并跳转\r\n\t\t\t$(\".ul li\").click(function(){\r\n\t\t\t\tconsole.log(1);\r\n\t\t\t\tsessionStorage.setItem(\"secuityno\",$(this).attr(\"secuitynum\"));\r\n\t\t\t\tsessionStorage.setItem(\"strus\",$(this).attr(\"strus\"));\r\n\t            location.hash=\"#zx_commonAudit\";\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\r\n\t\r\n\t\t}\r\n\t}else{\r\n\t\tmui.alert(data.message);\r\n\t\t$(\".upcoming ul li\").remove();\r\n\t}\r\n\t\r\n}\r\n//点击确认 历史记录数据\r\nfunction getApprovalListARData(data){\r\n\tif(data.success){\r\n\t\tvar appListRes=data.data.items;\r\n\t\t$(\".record ul li\").remove();\r\n\t\tfor(var i=0;i<appListRes.length;i++){\r\n\t\t\tvar li =$(sHtml);\r\n\t\t\tvar statusno = appListRes[i].statusno\r\n\t\t\tli.find(\".app-name\").html(appListRes[i].name);\r\n\t\t\tli.find(\".app-time\").html(changTime(new Date(appListRes[i].applydate)));\r\n\t\t\tli.find(\".referral-person\").html(appListRes[i].linkname);\r\n\t\t\tif(appListRes[i].statusname){\r\n\t\t\t\tli.find(\".approval-state\").html(appListRes[i].statusname);\r\n\t\t\t\tli.attr(\"volor\",statusno);\r\n\t\t\t\tli.attr('secuitynum',appListRes[i].secuityno);\r\n\t\t\t\tli.attr('strus',record);\r\n\t//\t\t\tli.defineProperty(li,\"secuitynum\",{enumerable:false,value:appListRes[i].secuityno});\r\n\t\r\n\t\t\t}\r\n\t\t\t$(\".ul\").append(li);\r\n\t\t\tli.click(function(){\r\n\t\t\t\tsessionStorage.setItem(\"secuityno\",$(this).attr(\"secuitynum\"));\r\n\t\t\t\tsessionStorage.setItem(\"strus\",$(this).attr(\"strus\"));\r\n\t            location.hash=\"#zx_commonAudit\";\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}else{\r\n\t\tmui.alert(data.message);\r\n\t\t$(\".record ul li\").remove();\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n//转换中国标准时间转化成时间格式\r\nfunction changTime(data){\r\n\tvar datetime=data.getFullYear() + '-' + (data.getMonth() + 1) + '-' + (data.getDate());\r\n\treturn datetime;\r\n}\r\n\r\n// function scrollFn() {\r\n//             //真实内容的高度\r\n//             var pageHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight);\r\n//             //视窗的高度\r\n//             var viewportHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || 0;\r\n//             //隐藏的高度\r\n//             var scrollHeight = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n//             if (flagNoData) { //数据全部加载完了\r\n//                 return;\r\n//             } else if (pageHeight - viewportHeight - scrollHeight < 10) {    //如果满足触发条件，执行\r\n//                 showAjax(page);\r\n//             }\r\n//         }\r\n// $(window).bind(\"scroll\", scrollFn);"],"sourceRoot":"/source/"}