{"version":3,"sources":["js/module/main/zx_QuitappyleCode.js"],"names":["init","isCardNo","cardPhone","pattern","test","clickEvent","reg","$alertInfo","$","$alertText","$alerTypeInfo","$alerTypeText","$alerPhonetInfo","$alerPhonetText","bind","hide","click","phoneVal","val","sendPhone","validationCode","sendMessage","show","text","blur","getType","isType","trim","isPhone","PhoneCode","isCode","verifyInfo","mui","alert","timer","count","curCount","elem","self","this","attr","css","setInterval","SetRemainTime","clearInterval","removeAttr","isCard","input"],"mappings":"AA6DA,QAASA,SAIT,QAASC,UAASC,GAChB,GAAIC,GAAU,0CACd,OAAOA,GAAQC,KAAKF,GAGtB,QAASG,cACRC,EAAI,YACJC,WAAWC,EAAE,iCACbC,WAAWD,EAAE,sCACbE,cAAgBF,EAAE,oCAClBG,cAAgBH,EAAE,yCAClBI,gBAAkBJ,EAAE,sCACpBK,gBAAkBL,EAAE,2CAEpBA,EAAE,kCAAkCM,KAAK,QAAQ,WAChDF,gBAAgBG,SAGjBP,EAAE,kCAAkCM,KAAK,QAAQ,WAChDJ,cAAcK,SAGfP,EAAE,+BAA+BM,KAAK,QAAQ,WAC7CP,WAAWQ,QAEZ,IAAIT,GAAI,WAERE,GAAE,gCAAgCQ,MAAM,WACvC,GAAIC,GAAST,EAAE,kCAAkCU,KAC9CZ,GAAIF,KAAKa,IACXE,UAAUF,EACVG,eAAeC,YAAYb,EAAE,kCACX,IAAVS,GACRL,gBAAgBU,OAChBT,gBAAgBU,KAAK,YAErBX,gBAAgBU,OAChBT,gBAAgBU,KAAK,iBAIvBf,EAAE,kCAAkCgB,KAAK,QAAQ,WACpC,OAATC,QAC0B,IAAxBjB,EAAE,eAAeU,OACpBR,cAAcY,OACdX,cAAcY,KAAK,YACnBG,QAAO,GAEHzB,SAASO,EAAEmB,KAAKnB,EAAE,eAAeU,SAKpCR,cAAcK,OACdW,QAAO,IALPhB,cAAcY,OACdX,cAAcY,KAAK,eACnBG,QAAO,GAOkB,IAAxBlB,EAAE,eAAeU,OACnBR,cAAcY,OACdX,cAAcY,KAAK,WACnBG,QAAO,IAEPhB,cAAcK,OACdW,QAAO,KAKVlB,EAAE,kCAAkCgB,KAAK,QAAQ,WAC5ClB,EAAIF,KAAKI,EAAE,kCAAkCU,OAIG,IAA3CV,EAAE,kCAAkCU,OAC5CN,gBAAgBU,OAChBT,gBAAgBU,KAAK,WACrBK,SAAQ,IAERrB,WAAWQ,OACXa,SAAQ,IATRhB,gBAAgBU,OAChBT,gBAAgBU,KAAK,cACrBK,SAAQ,KAWVpB,EAAE,+BAA+BgB,KAAK,QAAQ,WAC1CK,WAAWrB,EAAE,YAAYU,OAC3BX,WAAWQ,OACXe,QAAO,GACsB,IAArBtB,EAAE,YAAYU,OACtBX,WAAWe,OACXb,WAAWc,KAAK,UAChBO,QAAO,IAEPvB,WAAWe,OACXb,WAAWc,KAAK,aAChBO,QAAO,KAITtB,EAAE,eAAeQ,MAAM,WACtBe,eAIF,QAASA,cACLL,QAAUI,QAAUF,QACtBI,IAAIC,MAAM,KAEVD,IAAIC,MAAM,gBA1KZ,GAAIb,iBACFc,MAAM,OACNC,MAAM,GACNC,SAAS,KAKTf,YAAY,SAAqBgB,GAChC,GAAIC,GAAKC,IACND,GAAKF,SAAWE,EAAKH,MAErBE,EAAKG,KAAK,WAAY,QAAQC,IAAI,aAAa,WAC/CJ,EAAKd,KAAKe,EAAKF,SAAW,KAC1BE,EAAKJ,MAAOQ,YAAY,WACtBJ,EAAKK,cAAcN,IACjB,MAMRM,cAAc,SAASN,GACtB,GAAIC,GAAKC,IACe,IAAjBD,EAAKF,UACLQ,cAAcN,EAAKJ,OACnBG,EAAKQ,WAAW,YAAYJ,IAAI,aAAa,QAC7CJ,EAAKd,KAAK,UAGVe,EAAKF,WACLC,EAAKd,KAAKe,EAAKF,SAAW,QAIhCX,QAAS,MACTN,UAAU,KACV2B,QAAQ,EACRlB,SAAU,EACVE,QAAS,EACTvB,WACAE,WACAC,cACAC,cACAC,gBACAC,gBACAP,IACAuB,UAAU,OACVH,QAAO,EACPE,SAAQ,EACRE,QAAO,CAEXtB,GAAE,WACDwB,IAAI,wBAAwBe,QAC5B/C,OACAK","file":"js/module/main/zx_QuitappyleCode.js","sourcesContent":["/**\r\n * validationCode对象用于控制验证码时间\r\n * **/\r\nvar validationCode={\r\n\t\ttimer:\"null\", //timer变量，控制时间  \r\n\t\tcount:59,//间隔函数，1秒执行  \r\n\t\tcurCount:null,//当前剩余秒数  \r\n\t/****\r\n\t * ***定义验证码重发时间控制的方法**\r\n\t * ***参数elem 为按钮元素$对象\r\n\t * ***/\r\n\t\tsendMessage:function sendMessage(elem) {\r\n\t\t\tvar self=this;\r\n\t\t    self.curCount = self.count; \r\n\t\t    //设置button效果，开始计时  \r\n\t\t    elem.attr(\"disabled\", \"true\").css(\"background\",\"#c1c1c1\");;  \r\n\t\t    elem.text(self.curCount + \"s\");  \r\n\t\t    self.timer =setInterval(function(){\r\n\t\t\t    \tself.SetRemainTime(elem)\r\n\t\t\t    }, 1000); //启动计时器，1秒执行一次\r\n\t\t},  \r\n\t/****\r\n\t * ***timer处理函数，判断时间**\r\n\t * ***参数elem 为按钮元素$对象\r\n\t * ***/\r\n\t\tSetRemainTime:function(elem) {\r\n\t\t\tvar self=this;\r\n\t\t    if (self.curCount == 1) {                  \r\n\t\t        clearInterval(self.timer);//停止计时器  \r\n\t\t        elem.removeAttr(\"disabled\").css(\"background\",\"#fff\");//启用按钮  \r\n\t\t        elem.text(\"重新发送\");  \r\n\t\t    }  \r\n\t\t    else {  \r\n\t\t        self.curCount--;  \r\n\t\t        elem.text(self.curCount + \"s\");  \r\n\t\t    }  \r\n\t\t}  \r\n\t}\r\nvar getType =\"身份证\";\r\nvar sendPhone=null;//存储发送验证码的手机号码\r\nvar isCard =false;//证件号码默认为false\r\nvar isPhone = false;//手机号码默认为false\r\nvar isCode = false;//验证码默认为false\r\nvar $alertInfo ;//监听手机验证码 错误信息提示框\r\nvar $alertText;//错误弹窗的信息--监听手机验证码\r\nvar $alerTypeInfo;//监听证件号--错误提示框\r\nvar $alerTypeText;//证件号错误提示信息\r\nvar $alerPhonetInfo;//监听手机号，错误提示框\r\nvar $alerPhonetText;//手机号错误提示信息\r\nvar reg;//手机号码的正则表达式\r\nvar PhoneCode=\"8989\";//存储收到的验证码\r\nvar isType=false;\r\nvar isPhone=false;\r\nvar isCode=false;\r\n/*页面最开始加载执行*/\r\n$(function() {\r\n\tmui('.mui-input-row input').input();\r\n\tinit();//初始化\r\n\tclickEvent();//点击事件初始化方法\r\n})\r\n/*初始化方法*/\r\nfunction init(){\r\n\t\r\n}\r\n//验证身份证号\r\nfunction isCardNo(cardPhone) { \r\n\t var pattern = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/; \r\n\t return pattern.test(cardPhone); \r\n}\r\n/*页面点击事件处理方法*/\r\nfunction clickEvent(){\r\n\treg=/^1\\d{10}$/;//手机号码的正则表达式\r\n\t$alertInfo=$(\"#zx_quitappylecode .alertInfo\");//获取手机验证码 错误信息提示框\r\n\t$alertText=$(\"#zx_quitappylecode .alertInfo span\");//错误弹窗的信息--手机验证码\r\n\t$alerTypeInfo = $(\"#zx_quitappylecode .alerTypeInfo\");//获取证件号码错误提示框\r\n\t$alerTypeText = $(\"#zx_quitappylecode .alerTypeInfo span\");//获取证件号码错误提示信息\r\n\t$alerPhonetInfo = $(\"#zx_quitappylecode .alerPhonetInfo\");//获取手机号错误提示框\r\n\t$alerPhonetText = $(\"#zx_quitappylecode .alerPhonetInfo span\");//获取手机错误提示信息\r\n\t/*手机号码输入框事件梳理函数*/\r\n\t$(\"#zx_quitappylecode .phoneInput\").bind(\"input\",function(){\r\n\t\t$alerPhonetInfo.hide();\r\n\t});\r\n\t/*证件号码输入框事件梳理函数*/\r\n\t$(\"#zx_quitappylecode .card-phone\").bind(\"input\",function(){\r\n\t\t$alerTypeInfo.hide();\r\n\t});\r\n\t/*验证码输入框事件梳理函数*/\r\n\t$(\"#zx_quitappylecode .valCode\").bind(\"input\",function(){\r\n\t\t$alertInfo.hide();\r\n\t});\r\n\tvar reg=/^1\\d{10}$/;//手机号码的正则表达式\r\n\t/***为发送验证码按钮添加点击事件***/\r\n\t$(\"#zx_quitappylecode .countBtn\").click(function(){\r\n\t\tvar phoneVal=$(\"#zx_quitappylecode .phoneInput\").val();\r\n\t\tif(reg.test(phoneVal)){\t\r\n\t\t\tsendPhone=phoneVal;\r\n\t\t\tvalidationCode.sendMessage($(\"#zx_quitappylecode .countBtn\"));//执行验证码重发时间函数\r\n\t\t}else if(phoneVal==\"\"){\r\n\t\t\t$alerPhonetInfo.show();\r\n\t\t\t$alerPhonetText.text(\"请输入手机号\");\r\n\t\t}else{\r\n\t\t\t$alerPhonetInfo.show();\r\n\t\t\t$alerPhonetText.text(\"请输入有效的手机号码\");\r\n\t\t}\r\n\t});\r\n\t/*证件号码输入框失去校验时校验*/\r\n\t$(\"#zx_quitappylecode .card-phone\").blur(\"input\",function(){\r\n\t\tif(getType==\"身份证\"){\r\n\t\t\tif ($(\".card-phone\").val()==\"\") {\n\t\t\t\t$alerTypeInfo.show();\r\n\t\t\t\t$alerTypeText.text(\"请输入身份证号码\");\r\n\t\t\t\tisType=false\n\t\t\t}else{\r\n\t\t\t\tif(!isCardNo($.trim($(\".card-phone\").val()))){\r\n\t\t\t\t\t$alerTypeInfo.show();\r\n\t\t\t\t\t$alerTypeText.text(\"请输入正确的身份证号码\");\r\n\t\t\t\t\tisType=false\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$alerTypeInfo.hide();\r\n\t\t\t\t\tisType=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif($(\".card-phone\").val()==\"\"){\r\n\t\t\t\t$alerTypeInfo.show();\r\n\t\t\t\t$alerTypeText.text(\"请输入证件号码\");\r\n\t\t\t\tisType=false\r\n\t\t\t}else{\r\n\t\t\t\t$alerTypeInfo.hide();\r\n\t\t\t\tisType=true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t/*手机号码输入框失去焦点时校验*/\r\n\t$(\"#zx_quitappylecode .phoneInput\").blur(\"input\",function(){\r\n\t\tif(!reg.test($(\"#zx_quitappylecode .phoneInput\").val())){\r\n\t\t\t$alerPhonetInfo.show();\r\n\t\t\t$alerPhonetText.text(\"请输入有效的手机号码\");\r\n\t\t\tisPhone=false\r\n\t\t}else if($(\"#zx_quitappylecode .phoneInput\").val()==\"\"){\r\n\t\t\t$alerPhonetInfo.show();\r\n\t\t\t$alerPhonetText.text(\"请输入手机号码\");\r\n\t\t\tisPhone=false\r\n\t\t}else{\r\n\t\t\t$alertInfo.hide();\r\n\t\t\tisPhone=true;\r\n\t\t}\r\n\t});\r\n\t/*验证码输入失去焦点时校验*/\r\n\t$(\"#zx_quitappylecode .valCode\").blur(\"input\",function(){\r\n\t\tif(PhoneCode==$(\".valCode\").val()){\r\n\t\t\t$alertInfo.hide();\r\n\t\t\tisCode=true;\r\n\t\t}else if($(\".valCode\").val()==\"\"){\r\n\t\t\t$alertInfo.show();\r\n\t\t\t$alertText.text(\"请输入验证码\");\r\n\t\t\tisCode=false;\r\n\t\t}else{\r\n\t\t\t$alertInfo.show();\r\n\t\t\t$alertText.text(\"请输入正确的验证码\");\r\n\t\t\tisCode=false;\r\n\t\t}\r\n\t});\r\n\t/*点击下一步事件*/\r\n\t$(\".btnonclick\").click(function(){\r\n\t\tverifyInfo();\r\n\t});\r\n}\r\n/*校验页面信息是否输入正确*/\r\nfunction verifyInfo(){\r\n\tif(isType && isCode && isPhone){\r\n\t\tmui.alert(\"o\");\r\n\t}else{\r\n\t\tmui.alert(\"信息有未填写或填写错误！\");\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}