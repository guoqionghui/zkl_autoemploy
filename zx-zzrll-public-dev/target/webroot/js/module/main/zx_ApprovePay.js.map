{"version":3,"sources":["js/module/main/zx_ApprovePay.js"],"names":["init","data","chequeno","phoneCard","Clients","postClientAjax","url","zx_appPaymoney","getInfomoney","stutas","sessionStorage","getItem","$","text","clickEvent","click","slideDown","show","attr","hide","css","slideUp","this","payAmount","html","idNo","amount","zx_approvePayInit","getApprovePayData","setItem","location","hash","console","log","success","approvePayData","approveUrl","key","formAttr","append","find","submit","mui","alert","message","infoData","afijList","nav","i","length","paymodec","totalsuamry","sumary","clntsurnm","initData"],"mappings":"AASA,QAASA,QACR,GAAIC,IAAMC,SAASC,UACnBC,SAAQC,eAAeC,IAAIC,eAAeN,EAAKO,aAC/C,IAAIC,GAASC,eAAeC,QAAQ,eACpCC,GAAE,iBAAiBC,KAAKJ,GACxBG,EAAE,YAAYC,KAAKH,eAAeC,QAAQ,WAG3C,QAASG,cAERF,EAAE,eAAeG,MAAM,WACtBH,EAAE,YAAYI,YACdJ,EAAE,cAAcK,OAChBL,EAAE,cAAcM,KAAK,MAAM,4CAC3BN,EAAE,gBAAgBM,KAAK,MAAM,wCAC7BN,EAAE,kBAAkBC,KAAK,SACzBD,EAAE,iBAAiBO,OACnBP,EAAE,eAAeQ,IAAI,SAAS,WAG/BR,EAAE,gBAAgBG,MAAM,WACvBH,EAAE,YAAYS,UACdT,EAAE,cAAcO,OAChBP,EAAE,iBAAiBK,OACnBL,EAAE,eAAeQ,IAAI,SAAS,WAG/BR,EAAE,gBAAgBG,MAAM,WACvBH,EAAE,cAAcM,KAAK,MAAM,wCAC3BN,EAAEU,MAAMJ,KAAK,MAAM,4CACnBN,EAAE,kBAAkBC,KAAK,WAE1BD,EAAE,cAAcG,MAAM,WACrBH,EAAEU,MAAMJ,KAAK,MAAM,4CACnBN,EAAE,gBAAgBM,KAAK,MAAM,wCAC7BN,EAAE,kBAAkBC,KAAK,WAG1BD,EAAE,kBAAkBG,MAAM,WACzB,GAAmB,SAAhBH,EAAEU,MAAMT,OAAgB,CAC1BD,EAAE,YAAYS,UACdT,EAAE,cAAcO,MAChB,IAAII,GAAYX,EAAE,kBAAkBY,OAChCvB,GAAMwB,KAAKtB,UAAUuB,OAAOH,EAChCnB,SAAQC,eAAeC,IAAIqB,kBAAkB1B,EAAK2B,uBAC9C,CACJ,GAAIL,GAAYX,EAAE,kBAAkBY,MACpCd,gBAAemB,QAAQ,YAAYN,GACnCO,SAASC,KAAK,oBAKjB,QAASH,mBAAkB3B,GAE1B,GADA+B,QAAQC,IAAIhC,GACM,GAAdA,EAAKiC,QAAe,CACvB,GAAIC,GAAiBlC,EAAKA,KAAKA,KAC3BmC,EAAanC,EAAKA,KAAKK,GAI3B,IAFAM,EAAE,SAASM,KAAK,SAASkB,GACzBJ,QAAQC,IAAIE,EAAe,IACxBA,EAAe,CACjBH,QAAQC,IAAIE,EACZ,KAAI,GAAIE,KAAOF,GACdG,SAAS1B,EAAE,aACX0B,SAASpB,KAAK,OAAOmB,GACrBC,SAASpB,KAAK,QAAQiB,EAAeE,IACrCzB,EAAE,SAAS2B,OAAOD,SAEnB1B,GAAE,SAAS4B,KAAK,SAASpB,IAAI,UAAU,QAExCR,EAAE,SAAS6B,aAEXC,KAAIC,MAAM1C,EAAK2C,SAMjB,QAASpC,cAAaP,GACrB,GAAkB,GAAdA,EAAKiC,QAAe,CACvBW,SAAW5C,EAAKA,KAAK6C,QAErB,KAAK,GADDC,GAAI,GACCC,EAAE,EAAEA,EAAEH,SAASI,OAAOD,IAC9BD,GAAK,gCAAkCF,SAASG,GAAGE,SAAW,sCAAuCL,SAASG,GAAGG,YAAY,aAE9HvC,GAAE,eAAeC,KAAK,IAAIZ,EAAKA,KAAKmD,OACzBnD,GAAKA,KAAKoD,SACrBzC,GAAE,kBAAkBC,KAAKZ,EAAKA,KAAKmD,QACnCxC,EAAE,cAAcY,KAAKuB,OAErBL,KAAIC,MAAM1C,EAAK2C,SAKjB,QAASU,UAAST,GACjBb,QAAQC,IAAIY,EAASC,UA1GtB,GAAI3C,WAAYO,eAAeC,QAAQ,cAEnCkC,WACJjC,GAAE,WACDZ,OACAc","file":"js/module/main/zx_ApprovePay.js","sourcesContent":["var phoneCard = sessionStorage.getItem('Phone_card');//登录时身份证号\r\n//var phoneCard = \"4254821963188888\"; \r\nvar infoData=[];\r\n$(function(){\r\n\tinit();\r\n\tclickEvent();//页面点击事件初始化方法\r\n\t//initData(infoData);//初始化页面数据信息\r\n});\r\n//页面初始化方法\r\nfunction init(){\r\n\tvar data={chequeno:phoneCard};\r\n\tClients.postClientAjax(url.zx_appPaymoney,data,getInfomoney);\r\n\tvar stutas = sessionStorage.getItem(\"IDstatusname\");//获取缴费审批状态\r\n\t$(\".Pay-sateinfo\").text(stutas);\r\n\t$(\".Namepay\").text(sessionStorage.getItem(\"IDname\"));//设置姓名\r\n}\r\n/*页面点击事件方法*/\r\nfunction clickEvent(){\r\n\t//点击立即缴费按钮处理事件\r\n\t$(\".btnonclick\").click(function(){\r\n\t\t$(\".Payshow\").slideDown();\r\n\t\t$(\"#indexMask\").show();\r\n\t\t$(\".Pay-atimg\").attr(\"src\",\"../../../resources/imgs/pay_selected.png\");\r\n\t\t$(\".Pay-atnoimg\").attr(\"src\",\"../../../resources/imgs/pay_gray.png\");\r\n\t\t$(\".paybtnonclick\").text(\"支付宝支付\");\r\n\t\t$(\".Pay-bottombg\").hide();//隐藏审批状态显示\r\n\t\t$(\".Pay-infobg\").css(\"height\",\"150px\");\r\n\t})\r\n\t//支付弹框取消按钮事件处理\r\n\t$(\".Pay-backimg\").click(function(){\r\n\t\t$(\".Payshow\").slideUp();\r\n\t\t$(\"#indexMask\").hide();\r\n\t\t$(\".Pay-bottombg\").show();//隐藏审批状态显示\r\n\t\t$(\".Pay-infobg\").css(\"height\",\"185px\");\r\n\t})\r\n\t//单击选择支付方式处理事件\r\n\t$(\".Pay-atnoimg\").click(function(){\r\n\t\t$(\".Pay-atimg\").attr(\"src\",\"../../../resources/imgs/pay_gray.png\");\r\n\t\t$(this).attr(\"src\",\"../../../resources/imgs/pay_selected.png\");\r\n\t\t$(\".paybtnonclick\").text(\"银行卡支付\");\r\n\t});\r\n\t$(\".Pay-atimg\").click(function(){\r\n\t\t$(this).attr(\"src\",\"../../../resources/imgs/pay_selected.png\");\r\n\t\t$(\".Pay-atnoimg\").attr(\"src\",\"../../../resources/imgs/pay_gray.png\");\r\n\t\t$(\".paybtnonclick\").text(\"支付宝支付\");\r\n\t});\r\n\t/*支付弹框按钮处理事件*/\r\n\t$(\".paybtnonclick\").click(function(){\r\n\t\tif($(this).text()==\"支付宝支付\"){\r\n\t\t\t$(\".Payshow\").slideUp();\r\n\t\t\t$(\"#indexMask\").hide();\r\n\t\t\tvar payAmount = $('#Pay-summonery').html();\r\n\t\t\tvar data={idNo:phoneCard,amount:payAmount}\r\n\t\t\tClients.postClientAjax(url.zx_approvePayInit,data,getApprovePayData);\r\n\t\t}else{\r\n\t\t\tvar payAmount = $('#Pay-summonery').html();\r\n\t\t\tsessionStorage.setItem(\"payAmount\",payAmount);\r\n\t\t\tlocation.hash=\"#zx_bankAlipay\";//银行卡支付页面\r\n\t\t}\r\n\t})\r\n}\r\n//点击缴费回调函数\r\nfunction getApprovePayData(data){\r\n\tconsole.log(data);\r\n\tif (data.success==true) {\n\t\tvar approvePayData = data.data.data;\r\n\t\tvar approveUrl = data.data.url;\r\n\t\t//console.log(approveUrl);\r\n\t\t$(\"#form\").attr(\"action\",approveUrl);\r\n\t\tconsole.log(approvePayData[0]);\r\n\t\tif(approvePayData){\r\n\t\t\tconsole.log(approvePayData)\r\n\t\t\tfor(var key in approvePayData){\r\n\t\t\t\tformAttr=$(\"<input />\");\r\n\t\t\t\tformAttr.attr(\"name\",key);\r\n\t\t\t\tformAttr.attr(\"value\",approvePayData[key]);\t\r\n\t\t\t\t$(\"#form\").append(formAttr);\r\n\t\t\t}\r\n\t\t\t$(\"#form\").find(\"input\").css(\"display\",\"none\");\t\r\n\t}\r\n\t\t$(\"#form\").submit();\n\t} else{\n\t\tmui.alert(data.message);\r\n\t\t//$(\".btnonclick\").attr(\"disabled\",true).css(\"background\",\"#ccc\");\n\t}\r\n\t\r\n}\r\n/*初始化请假页面接口信息回调函数*/\r\nfunction getInfomoney(data){\r\n\tif (data.success==true) {\r\n\t\tinfoData = data.data.afijList;\n\t\tvar nav=\"\";\r\n\t\tfor (var i=0;i<infoData.length;i++) {\r\n\t\t\tnav+='<p class=\"Pay-moneryp\"><span>' + infoData[i].paymodec + '</span><span class=\"Pay-monerysp\">￥'+ infoData[i].totalsuamry+'</span></p>';\r\n\t\t}\r\n\t\t$(\".Pay-comesp\").text(\"￥\"+data.data.sumary);//设置总金额\r\n\t\tvar name = data.data.clntsurnm;\r\n\t\t$(\"#Pay-summonery\").text(data.data.sumary);//支付弹框总金额\r\n\t\t$(\"#infoMoney\").html(nav);\r\n\t} else{\n\t\tmui.alert(data.message);\n\t}\r\n}\r\n/*\r\n * 创建页面收费信息项*/\r\nfunction initData(infoData){\r\n\tconsole.log(infoData.afijList);\r\n}\r\n"],"sourceRoot":"/source/"}